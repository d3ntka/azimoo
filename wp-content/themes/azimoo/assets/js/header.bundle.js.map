{"version":3,"file":"header.bundle.js","mappings":"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","sources":["webpack:///../../../node_modules/lightgallery/lightgallery.es5.js","webpack:///../../../node_modules/lightgallery/plugins/thumbnail/lg-thumbnail.es5.js"],"sourcesContent":["/*!\n * lightgallery | 2.2.1 | September 4th 2021\n * http://www.lightgalleryjs.com/\n * Copyright (c) 2020 Sachin Neravath;\n * @license GPLv3\n */\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\n\r\nfunction __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\n\n(function () {\r\n    if (typeof window.CustomEvent === 'function')\r\n        return false;\r\n    function CustomEvent(event, params) {\r\n        params = params || { bubbles: false, cancelable: false, detail: null };\r\n        var evt = document.createEvent('CustomEvent');\r\n        evt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);\r\n        return evt;\r\n    }\r\n    window.CustomEvent = CustomEvent;\r\n})();\r\n(function () {\r\n    if (!Element.prototype.matches) {\r\n        Element.prototype.matches =\r\n            Element.prototype.msMatchesSelector ||\r\n                Element.prototype.webkitMatchesSelector;\r\n    }\r\n})();\r\nvar lgQuery = /** @class */ (function () {\r\n    function lgQuery(selector) {\r\n        this.cssVenderPrefixes = [\r\n            'TransitionDuration',\r\n            'TransitionTimingFunction',\r\n            'Transform',\r\n            'Transition',\r\n        ];\r\n        this.selector = this._getSelector(selector);\r\n        this.firstElement = this._getFirstEl();\r\n        return this;\r\n    }\r\n    lgQuery.generateUUID = function () {\r\n        return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\r\n            var r = (Math.random() * 16) | 0, v = c == 'x' ? r : (r & 0x3) | 0x8;\r\n            return v.toString(16);\r\n        });\r\n    };\r\n    lgQuery.prototype._getSelector = function (selector, context) {\r\n        if (context === void 0) { context = document; }\r\n        if (typeof selector !== 'string') {\r\n            return selector;\r\n        }\r\n        context = context || document;\r\n        var fl = selector.substring(0, 1);\r\n        if (fl === '#') {\r\n            return context.querySelector(selector);\r\n        }\r\n        else {\r\n            return context.querySelectorAll(selector);\r\n        }\r\n    };\r\n    lgQuery.prototype._each = function (func) {\r\n        if (!this.selector) {\r\n            return this;\r\n        }\r\n        if (this.selector.length !== undefined) {\r\n            [].forEach.call(this.selector, func);\r\n        }\r\n        else {\r\n            func(this.selector, 0);\r\n        }\r\n        return this;\r\n    };\r\n    lgQuery.prototype._setCssVendorPrefix = function (el, cssProperty, value) {\r\n        // prettier-ignore\r\n        var property = cssProperty.replace(/-([a-z])/gi, function (s, group1) {\r\n            return group1.toUpperCase();\r\n        });\r\n        if (this.cssVenderPrefixes.indexOf(property) !== -1) {\r\n            el.style[property.charAt(0).toLowerCase() + property.slice(1)] = value;\r\n            el.style['webkit' + property] = value;\r\n            el.style['moz' + property] = value;\r\n            el.style['ms' + property] = value;\r\n            el.style['o' + property] = value;\r\n        }\r\n        else {\r\n            el.style[property] = value;\r\n        }\r\n    };\r\n    lgQuery.prototype._getFirstEl = function () {\r\n        if (this.selector && this.selector.length !== undefined) {\r\n            return this.selector[0];\r\n        }\r\n        else {\r\n            return this.selector;\r\n        }\r\n    };\r\n    lgQuery.prototype.isEventMatched = function (event, eventName) {\r\n        var eventNamespace = eventName.split('.');\r\n        return event\r\n            .split('.')\r\n            .filter(function (e) { return e; })\r\n            .every(function (e) {\r\n            return eventNamespace.indexOf(e) !== -1;\r\n        });\r\n    };\r\n    lgQuery.prototype.attr = function (attr, value) {\r\n        if (value === undefined) {\r\n            if (!this.firstElement) {\r\n                return '';\r\n            }\r\n            return this.firstElement.getAttribute(attr);\r\n        }\r\n        this._each(function (el) {\r\n            el.setAttribute(attr, value);\r\n        });\r\n        return this;\r\n    };\r\n    lgQuery.prototype.find = function (selector) {\r\n        return $LG(this._getSelector(selector, this.selector));\r\n    };\r\n    lgQuery.prototype.first = function () {\r\n        if (this.selector && this.selector.length !== undefined) {\r\n            return $LG(this.selector[0]);\r\n        }\r\n        else {\r\n            return $LG(this.selector);\r\n        }\r\n    };\r\n    lgQuery.prototype.eq = function (index) {\r\n        return $LG(this.selector[index]);\r\n    };\r\n    lgQuery.prototype.parent = function () {\r\n        return $LG(this.selector.parentElement);\r\n    };\r\n    lgQuery.prototype.get = function () {\r\n        return this._getFirstEl();\r\n    };\r\n    lgQuery.prototype.removeAttr = function (attributes) {\r\n        var attrs = attributes.split(' ');\r\n        this._each(function (el) {\r\n            attrs.forEach(function (attr) { return el.removeAttribute(attr); });\r\n        });\r\n        return this;\r\n    };\r\n    lgQuery.prototype.wrap = function (className) {\r\n        if (!this.firstElement) {\r\n            return this;\r\n        }\r\n        var wrapper = document.createElement('div');\r\n        wrapper.className = className;\r\n        this.firstElement.parentNode.insertBefore(wrapper, this.firstElement);\r\n        this.firstElement.parentNode.removeChild(this.firstElement);\r\n        wrapper.appendChild(this.firstElement);\r\n        return this;\r\n    };\r\n    lgQuery.prototype.addClass = function (classNames) {\r\n        if (classNames === void 0) { classNames = ''; }\r\n        this._each(function (el) {\r\n            // IE doesn't support multiple arguments\r\n            classNames.split(' ').forEach(function (className) {\r\n                el.classList.add(className);\r\n            });\r\n        });\r\n        return this;\r\n    };\r\n    lgQuery.prototype.removeClass = function (classNames) {\r\n        this._each(function (el) {\r\n            // IE doesn't support multiple arguments\r\n            classNames.split(' ').forEach(function (className) {\r\n                el.classList.remove(className);\r\n            });\r\n        });\r\n        return this;\r\n    };\r\n    lgQuery.prototype.hasClass = function (className) {\r\n        if (!this.firstElement) {\r\n            return false;\r\n        }\r\n        return this.firstElement.classList.contains(className);\r\n    };\r\n    lgQuery.prototype.hasAttribute = function (attribute) {\r\n        if (!this.firstElement) {\r\n            return false;\r\n        }\r\n        return this.firstElement.hasAttribute(attribute);\r\n    };\r\n    lgQuery.prototype.toggleClass = function (className) {\r\n        if (!this.firstElement) {\r\n            return this;\r\n        }\r\n        if (this.hasClass(className)) {\r\n            this.removeClass(className);\r\n        }\r\n        else {\r\n            this.addClass(className);\r\n        }\r\n        return this;\r\n    };\r\n    lgQuery.prototype.css = function (property, value) {\r\n        var _this = this;\r\n        this._each(function (el) {\r\n            _this._setCssVendorPrefix(el, property, value);\r\n        });\r\n        return this;\r\n    };\r\n    // Need to pass separate namespaces for separate elements\r\n    lgQuery.prototype.on = function (events, listener) {\r\n        var _this = this;\r\n        if (!this.selector) {\r\n            return this;\r\n        }\r\n        events.split(' ').forEach(function (event) {\r\n            if (!Array.isArray(lgQuery.eventListeners[event])) {\r\n                lgQuery.eventListeners[event] = [];\r\n            }\r\n            lgQuery.eventListeners[event].push(listener);\r\n            _this.selector.addEventListener(event.split('.')[0], listener);\r\n        });\r\n        return this;\r\n    };\r\n    // @todo - test this\r\n    lgQuery.prototype.once = function (event, listener) {\r\n        var _this = this;\r\n        this.on(event, function () {\r\n            _this.off(event);\r\n            listener(event);\r\n        });\r\n        return this;\r\n    };\r\n    lgQuery.prototype.off = function (event) {\r\n        var _this = this;\r\n        if (!this.selector) {\r\n            return this;\r\n        }\r\n        Object.keys(lgQuery.eventListeners).forEach(function (eventName) {\r\n            if (_this.isEventMatched(event, eventName)) {\r\n                lgQuery.eventListeners[eventName].forEach(function (listener) {\r\n                    _this.selector.removeEventListener(eventName.split('.')[0], listener);\r\n                });\r\n                lgQuery.eventListeners[eventName] = [];\r\n            }\r\n        });\r\n        return this;\r\n    };\r\n    lgQuery.prototype.trigger = function (event, detail) {\r\n        if (!this.firstElement) {\r\n            return this;\r\n        }\r\n        var customEvent = new CustomEvent(event.split('.')[0], {\r\n            detail: detail || null,\r\n        });\r\n        this.firstElement.dispatchEvent(customEvent);\r\n        return this;\r\n    };\r\n    // Does not support IE\r\n    lgQuery.prototype.load = function (url) {\r\n        var _this = this;\r\n        fetch(url).then(function (res) {\r\n            _this.selector.innerHTML = res;\r\n        });\r\n        return this;\r\n    };\r\n    lgQuery.prototype.html = function (html) {\r\n        if (html === undefined) {\r\n            if (!this.firstElement) {\r\n                return '';\r\n            }\r\n            return this.firstElement.innerHTML;\r\n        }\r\n        this._each(function (el) {\r\n            el.innerHTML = html;\r\n        });\r\n        return this;\r\n    };\r\n    lgQuery.prototype.append = function (html) {\r\n        this._each(function (el) {\r\n            if (typeof html === 'string') {\r\n                el.insertAdjacentHTML('beforeend', html);\r\n            }\r\n            else {\r\n                el.appendChild(html);\r\n            }\r\n        });\r\n        return this;\r\n    };\r\n    lgQuery.prototype.prepend = function (html) {\r\n        this._each(function (el) {\r\n            el.insertAdjacentHTML('afterbegin', html);\r\n        });\r\n        return this;\r\n    };\r\n    lgQuery.prototype.remove = function () {\r\n        this._each(function (el) {\r\n            el.parentNode.removeChild(el);\r\n        });\r\n        return this;\r\n    };\r\n    lgQuery.prototype.empty = function () {\r\n        this._each(function (el) {\r\n            el.innerHTML = '';\r\n        });\r\n        return this;\r\n    };\r\n    lgQuery.prototype.scrollTop = function (scrollTop) {\r\n        if (scrollTop !== undefined) {\r\n            document.body.scrollTop = scrollTop;\r\n            document.documentElement.scrollTop = scrollTop;\r\n            return this;\r\n        }\r\n        else {\r\n            return (window.pageYOffset ||\r\n                document.documentElement.scrollTop ||\r\n                document.body.scrollTop ||\r\n                0);\r\n        }\r\n    };\r\n    lgQuery.prototype.scrollLeft = function (scrollLeft) {\r\n        if (scrollLeft !== undefined) {\r\n            document.body.scrollLeft = scrollLeft;\r\n            document.documentElement.scrollLeft = scrollLeft;\r\n            return this;\r\n        }\r\n        else {\r\n            return (window.pageXOffset ||\r\n                document.documentElement.scrollLeft ||\r\n                document.body.scrollLeft ||\r\n                0);\r\n        }\r\n    };\r\n    lgQuery.prototype.offset = function () {\r\n        if (!this.firstElement) {\r\n            return {\r\n                left: 0,\r\n                top: 0,\r\n            };\r\n        }\r\n        var rect = this.firstElement.getBoundingClientRect();\r\n        var bodyMarginLeft = $LG('body').style().marginLeft;\r\n        // Minus body margin - https://stackoverflow.com/questions/30711548/is-getboundingclientrect-left-returning-a-wrong-value\r\n        return {\r\n            left: rect.left - parseFloat(bodyMarginLeft) + this.scrollLeft(),\r\n            top: rect.top + this.scrollTop(),\r\n        };\r\n    };\r\n    lgQuery.prototype.style = function () {\r\n        if (!this.firstElement) {\r\n            return {};\r\n        }\r\n        return (this.firstElement.currentStyle ||\r\n            window.getComputedStyle(this.firstElement));\r\n    };\r\n    // Width without padding and border even if box-sizing is used.\r\n    lgQuery.prototype.width = function () {\r\n        var style = this.style();\r\n        return (this.firstElement.clientWidth -\r\n            parseFloat(style.paddingLeft) -\r\n            parseFloat(style.paddingRight));\r\n    };\r\n    // Height without padding and border even if box-sizing is used.\r\n    lgQuery.prototype.height = function () {\r\n        var style = this.style();\r\n        return (this.firstElement.clientHeight -\r\n            parseFloat(style.paddingTop) -\r\n            parseFloat(style.paddingBottom));\r\n    };\r\n    lgQuery.eventListeners = {};\r\n    return lgQuery;\r\n}());\r\nfunction $LG(selector) {\r\n    return new lgQuery(selector);\r\n}\n\nvar defaultDynamicOptions = [\r\n    'src',\r\n    'sources',\r\n    'subHtml',\r\n    'subHtmlUrl',\r\n    'html',\r\n    'video',\r\n    'poster',\r\n    'slideName',\r\n    'responsive',\r\n    'srcset',\r\n    'sizes',\r\n    'iframe',\r\n    'downloadUrl',\r\n    'download',\r\n    'width',\r\n    'facebookShareUrl',\r\n    'tweetText',\r\n    'iframeTitle',\r\n    'twitterShareUrl',\r\n    'pinterestShareUrl',\r\n    'pinterestText',\r\n    'fbHtml',\r\n    'disqusIdentifier',\r\n    'disqusUrl',\r\n];\r\n// Convert html data-attribute to camalcase\r\nfunction convertToData(attr) {\r\n    // FInd a way for lgsize\r\n    if (attr === 'href') {\r\n        return 'src';\r\n    }\r\n    attr = attr.replace('data-', '');\r\n    attr = attr.charAt(0).toLowerCase() + attr.slice(1);\r\n    attr = attr.replace(/-([a-z])/g, function (g) { return g[1].toUpperCase(); });\r\n    return attr;\r\n}\r\nvar utils = {\r\n    /**\r\n     * get possible width and height from the lgSize attribute. Used for ZoomFromOrigin option\r\n     */\r\n    getSize: function (el, container, spacing, defaultLgSize) {\r\n        if (spacing === void 0) { spacing = 0; }\r\n        var LGel = $LG(el);\r\n        var lgSize = LGel.attr('data-lg-size') || defaultLgSize;\r\n        if (!lgSize) {\r\n            return;\r\n        }\r\n        var isResponsiveSizes = lgSize.split(',');\r\n        // if at-least two viewport sizes are available\r\n        if (isResponsiveSizes[1]) {\r\n            var wWidth = window.innerWidth;\r\n            for (var i = 0; i < isResponsiveSizes.length; i++) {\r\n                var size_1 = isResponsiveSizes[i];\r\n                var responsiveWidth = parseInt(size_1.split('-')[2], 10);\r\n                if (responsiveWidth > wWidth) {\r\n                    lgSize = size_1;\r\n                    break;\r\n                }\r\n                // take last item as last option\r\n                if (i === isResponsiveSizes.length - 1) {\r\n                    lgSize = size_1;\r\n                }\r\n            }\r\n        }\r\n        var size = lgSize.split('-');\r\n        var width = parseInt(size[0], 10);\r\n        var height = parseInt(size[1], 10);\r\n        var cWidth = container.width();\r\n        var cHeight = container.height() - spacing;\r\n        var maxWidth = Math.min(cWidth, width);\r\n        var maxHeight = Math.min(cHeight, height);\r\n        var ratio = Math.min(maxWidth / width, maxHeight / height);\r\n        return { width: width * ratio, height: height * ratio };\r\n    },\r\n    /**\r\n     * @desc Get transform value based on the imageSize. Used for ZoomFromOrigin option\r\n     * @param {jQuery Element}\r\n     * @returns {String} Transform CSS string\r\n     */\r\n    getTransform: function (el, container, top, bottom, imageSize) {\r\n        if (!imageSize) {\r\n            return;\r\n        }\r\n        var LGel = $LG(el).find('img').first();\r\n        if (!LGel.get()) {\r\n            return;\r\n        }\r\n        var containerRect = container.get().getBoundingClientRect();\r\n        var wWidth = containerRect.width;\r\n        // using innerWidth to include mobile safari bottom bar\r\n        var wHeight = container.height() - (top + bottom);\r\n        var elWidth = LGel.width();\r\n        var elHeight = LGel.height();\r\n        var elStyle = LGel.style();\r\n        var x = (wWidth - elWidth) / 2 -\r\n            LGel.offset().left +\r\n            (parseFloat(elStyle.paddingLeft) || 0) +\r\n            (parseFloat(elStyle.borderLeft) || 0) +\r\n            $LG(window).scrollLeft() +\r\n            containerRect.left;\r\n        var y = (wHeight - elHeight) / 2 -\r\n            LGel.offset().top +\r\n            (parseFloat(elStyle.paddingTop) || 0) +\r\n            (parseFloat(elStyle.borderTop) || 0) +\r\n            $LG(window).scrollTop() +\r\n            top;\r\n        var scX = elWidth / imageSize.width;\r\n        var scY = elHeight / imageSize.height;\r\n        var transform = 'translate3d(' +\r\n            (x *= -1) +\r\n            'px, ' +\r\n            (y *= -1) +\r\n            'px, 0) scale3d(' +\r\n            scX +\r\n            ', ' +\r\n            scY +\r\n            ', 1)';\r\n        return transform;\r\n    },\r\n    getIframeMarkup: function (iframeWidth, iframeHeight, src, iframeTitle) {\r\n        var title = iframeTitle ? 'title=\"' + iframeTitle + '\"' : '';\r\n        return \"<div class=\\\"lg-video-cont lg-has-iframe\\\" style=\\\"width:\" + iframeWidth + \"; height: \" + iframeHeight + \"\\\">\\n                    <iframe class=\\\"lg-object\\\" frameborder=\\\"0\\\" \" + title + \" src=\\\"\" + src + \"\\\"  allowfullscreen=\\\"true\\\"></iframe>\\n                </div>\";\r\n    },\r\n    getImgMarkup: function (index, src, altAttr, srcset, sizes, sources) {\r\n        var srcsetAttr = srcset ? \"srcset=\\\"\" + srcset + \"\\\"\" : '';\r\n        var sizesAttr = sizes ? \"sizes=\\\"\" + sizes + \"\\\"\" : '';\r\n        var imgMarkup = \"<img \" + altAttr + \" \" + srcsetAttr + \"  \" + sizesAttr + \" class=\\\"lg-object lg-image\\\" data-index=\\\"\" + index + \"\\\" src=\\\"\" + src + \"\\\" />\";\r\n        var sourceTag = '';\r\n        if (sources) {\r\n            var sourceObj = typeof sources === 'string' ? JSON.parse(sources) : sources;\r\n            sourceTag = sourceObj.map(function (source) {\r\n                var attrs = '';\r\n                Object.keys(source).forEach(function (key) {\r\n                    // Do not remove the first space as it is required to separate the attributes\r\n                    attrs += \" \" + key + \"=\\\"\" + source[key] + \"\\\"\";\r\n                });\r\n                return \"<source \" + attrs + \"></source>\";\r\n            });\r\n        }\r\n        return \"\" + sourceTag + imgMarkup;\r\n    },\r\n    // Get src from responsive src\r\n    getResponsiveSrc: function (srcItms) {\r\n        var rsWidth = [];\r\n        var rsSrc = [];\r\n        var src = '';\r\n        for (var i = 0; i < srcItms.length; i++) {\r\n            var _src = srcItms[i].split(' ');\r\n            // Manage empty space\r\n            if (_src[0] === '') {\r\n                _src.splice(0, 1);\r\n            }\r\n            rsSrc.push(_src[0]);\r\n            rsWidth.push(_src[1]);\r\n        }\r\n        var wWidth = window.innerWidth;\r\n        for (var j = 0; j < rsWidth.length; j++) {\r\n            if (parseInt(rsWidth[j], 10) > wWidth) {\r\n                src = rsSrc[j];\r\n                break;\r\n            }\r\n        }\r\n        return src;\r\n    },\r\n    isImageLoaded: function (img) {\r\n        if (!img)\r\n            return false;\r\n        // During the onload event, IE correctly identifies any images that\r\n        // werent downloaded as not complete. Others should too. Gecko-based\r\n        // browsers act like NS4 in that they report this incorrectly.\r\n        if (!img.complete) {\r\n            return false;\r\n        }\r\n        // However, they do have two very useful properties: naturalWidth and\r\n        // naturalHeight. These give the true size of the image. If it failed\r\n        // to load, either of these should be zero.\r\n        if (img.naturalWidth === 0) {\r\n            return false;\r\n        }\r\n        // No other way of checking: assume its ok.\r\n        return true;\r\n    },\r\n    getVideoPosterMarkup: function (_poster, dummyImg, videoContStyle, _isVideo) {\r\n        var videoClass = '';\r\n        if (_isVideo && _isVideo.youtube) {\r\n            videoClass = 'lg-has-youtube';\r\n        }\r\n        else if (_isVideo && _isVideo.vimeo) {\r\n            videoClass = 'lg-has-vimeo';\r\n        }\r\n        else {\r\n            videoClass = 'lg-has-html5';\r\n        }\r\n        return \"<div class=\\\"lg-video-cont \" + videoClass + \"\\\" style=\\\"\" + videoContStyle + \"\\\">\\n                <div class=\\\"lg-video-play-button\\\">\\n                <svg\\n                    viewBox=\\\"0 0 20 20\\\"\\n                    preserveAspectRatio=\\\"xMidYMid\\\"\\n                    focusable=\\\"false\\\"\\n                    aria-labelledby=\\\"Play video\\\"\\n                    role=\\\"img\\\"\\n                    class=\\\"lg-video-play-icon\\\"\\n                >\\n                    <title>Play video</title>\\n                    <polygon class=\\\"lg-video-play-icon-inner\\\" points=\\\"1,0 20,10 1,20\\\"></polygon>\\n                </svg>\\n                <svg class=\\\"lg-video-play-icon-bg\\\" viewBox=\\\"0 0 50 50\\\" focusable=\\\"false\\\">\\n                    <circle cx=\\\"50%\\\" cy=\\\"50%\\\" r=\\\"20\\\"></circle></svg>\\n                <svg class=\\\"lg-video-play-icon-circle\\\" viewBox=\\\"0 0 50 50\\\" focusable=\\\"false\\\">\\n                    <circle cx=\\\"50%\\\" cy=\\\"50%\\\" r=\\\"20\\\"></circle>\\n                </svg>\\n            </div>\\n            \" + (dummyImg || '') + \"\\n            <img class=\\\"lg-object lg-video-poster\\\" src=\\\"\" + _poster + \"\\\" />\\n        </div>\";\r\n    },\r\n    /**\r\n     * @desc Create dynamic elements array from gallery items when dynamic option is false\r\n     * It helps to avoid frequent DOM interaction\r\n     * and avoid multiple checks for dynamic elments\r\n     *\r\n     * @returns {Array} dynamicEl\r\n     */\r\n    getDynamicOptions: function (items, extraProps, getCaptionFromTitleOrAlt, exThumbImage) {\r\n        var dynamicElements = [];\r\n        var availableDynamicOptions = __spreadArrays(defaultDynamicOptions, extraProps);\r\n        [].forEach.call(items, function (item) {\r\n            var dynamicEl = {};\r\n            for (var i = 0; i < item.attributes.length; i++) {\r\n                var attr = item.attributes[i];\r\n                if (attr.specified) {\r\n                    var dynamicAttr = convertToData(attr.name);\r\n                    var label = '';\r\n                    if (availableDynamicOptions.indexOf(dynamicAttr) > -1) {\r\n                        label = dynamicAttr;\r\n                    }\r\n                    if (label) {\r\n                        dynamicEl[label] = attr.value;\r\n                    }\r\n                }\r\n            }\r\n            var currentItem = $LG(item);\r\n            var alt = currentItem.find('img').first().attr('alt');\r\n            var title = currentItem.attr('title');\r\n            var thumb = exThumbImage\r\n                ? currentItem.attr(exThumbImage)\r\n                : currentItem.find('img').first().attr('src');\r\n            dynamicEl.thumb = thumb;\r\n            if (getCaptionFromTitleOrAlt && !dynamicEl.subHtml) {\r\n                dynamicEl.subHtml = title || alt || '';\r\n            }\r\n            dynamicEl.alt = alt || title || '';\r\n            dynamicElements.push(dynamicEl);\r\n        });\r\n        return dynamicElements;\r\n    },\r\n    isMobile: function () {\r\n        return /iPhone|iPad|iPod|Android/i.test(navigator.userAgent);\r\n    },\r\n};\n\nvar lightGalleryCoreSettings = {\r\n    mode: 'lg-slide',\r\n    easing: 'ease',\r\n    speed: 400,\r\n    licenseKey: '0000-0000-000-0000',\r\n    height: '100%',\r\n    width: '100%',\r\n    addClass: '',\r\n    startClass: 'lg-start-zoom',\r\n    backdropDuration: 300,\r\n    container: document.body,\r\n    startAnimationDuration: 400,\r\n    zoomFromOrigin: true,\r\n    hideBarsDelay: 0,\r\n    showBarsAfter: 10000,\r\n    slideDelay: 0,\r\n    supportLegacyBrowser: true,\r\n    allowMediaOverlap: false,\r\n    videoMaxSize: '1280-720',\r\n    defaultCaptionHeight: 0,\r\n    ariaLabelledby: '',\r\n    ariaDescribedby: '',\r\n    closable: true,\r\n    swipeToClose: true,\r\n    closeOnTap: true,\r\n    showCloseIcon: true,\r\n    showMaximizeIcon: false,\r\n    loop: true,\r\n    escKey: true,\r\n    keyPress: true,\r\n    controls: true,\r\n    slideEndAnimation: true,\r\n    hideControlOnEnd: false,\r\n    mousewheel: false,\r\n    getCaptionFromTitleOrAlt: true,\r\n    appendSubHtmlTo: '.lg-sub-html',\r\n    subHtmlSelectorRelative: false,\r\n    preload: 2,\r\n    numberOfSlideItemsInDom: 10,\r\n    showAfterLoad: true,\r\n    selector: '',\r\n    selectWithin: '',\r\n    nextHtml: '',\r\n    prevHtml: '',\r\n    index: 0,\r\n    iframeWidth: '100%',\r\n    iframeHeight: '100%',\r\n    download: true,\r\n    counter: true,\r\n    appendCounterTo: '.lg-toolbar',\r\n    swipeThreshold: 50,\r\n    enableSwipe: true,\r\n    enableDrag: true,\r\n    dynamic: false,\r\n    dynamicEl: [],\r\n    extraProps: [],\r\n    exThumbImage: '',\r\n    isMobile: undefined,\r\n    mobileSettings: {\r\n        controls: false,\r\n        showCloseIcon: false,\r\n        download: false,\r\n    },\r\n    plugins: [],\r\n};\n\n/**\r\n * List of lightGallery events\r\n * All events should be documented here\r\n * Below interfaces are used to build the website documentations\r\n * */\r\nvar lGEvents = {\r\n    afterAppendSlide: 'lgAfterAppendSlide',\r\n    init: 'lgInit',\r\n    hasVideo: 'lgHasVideo',\r\n    containerResize: 'lgContainerResize',\r\n    updateSlides: 'lgUpdateSlides',\r\n    afterAppendSubHtml: 'lgAfterAppendSubHtml',\r\n    beforeOpen: 'lgBeforeOpen',\r\n    afterOpen: 'lgAfterOpen',\r\n    slideItemLoad: 'lgSlideItemLoad',\r\n    beforeSlide: 'lgBeforeSlide',\r\n    afterSlide: 'lgAfterSlide',\r\n    posterClick: 'lgPosterClick',\r\n    dragStart: 'lgDragStart',\r\n    dragMove: 'lgDragMove',\r\n    dragEnd: 'lgDragEnd',\r\n    beforeNextSlide: 'lgBeforeNextSlide',\r\n    beforePrevSlide: 'lgBeforePrevSlide',\r\n    beforeClose: 'lgBeforeClose',\r\n    afterClose: 'lgAfterClose',\r\n    rotateLeft: 'lgRotateLeft',\r\n    rotateRight: 'lgRotateRight',\r\n    flipHorizontal: 'lgFlipHorizontal',\r\n    flipVertical: 'lgFlipVertical',\r\n};\n\n// @ref - https://stackoverflow.com/questions/3971841/how-to-resize-images-proportionally-keeping-the-aspect-ratio\r\n// @ref - https://2ality.com/2017/04/setting-up-multi-platform-packages.html\r\n// Unique id for each gallery\r\nvar lgId = 0;\r\nvar LightGallery = /** @class */ (function () {\r\n    function LightGallery(element, options) {\r\n        this.lgOpened = false;\r\n        this.index = 0;\r\n        // lightGallery modules\r\n        this.plugins = [];\r\n        // false when lightGallery load first slide content;\r\n        this.lGalleryOn = false;\r\n        // True when a slide animation is in progress\r\n        this.lgBusy = false;\r\n        this.currentItemsInDom = [];\r\n        // Scroll top value before lightGallery is opened\r\n        this.prevScrollTop = 0;\r\n        this.isDummyImageRemoved = false;\r\n        this.dragOrSwipeEnabled = false;\r\n        this.mediaContainerPosition = {\r\n            top: 0,\r\n            bottom: 0,\r\n        };\r\n        if (!element) {\r\n            return this;\r\n        }\r\n        lgId++;\r\n        this.lgId = lgId;\r\n        this.el = element;\r\n        this.LGel = $LG(element);\r\n        this.generateSettings(options);\r\n        this.buildModules();\r\n        // When using dynamic mode, ensure dynamicEl is an array\r\n        if (this.settings.dynamic &&\r\n            this.settings.dynamicEl !== undefined &&\r\n            !Array.isArray(this.settings.dynamicEl)) {\r\n            throw 'When using dynamic mode, you must also define dynamicEl as an Array.';\r\n        }\r\n        this.galleryItems = this.getItems();\r\n        this.normalizeSettings();\r\n        // Gallery items\r\n        this.init();\r\n        this.validateLicense();\r\n        return this;\r\n    }\r\n    LightGallery.prototype.generateSettings = function (options) {\r\n        // lightGallery settings\r\n        this.settings = __assign(__assign({}, lightGalleryCoreSettings), options);\r\n        if (this.settings.isMobile &&\r\n            typeof this.settings.isMobile === 'function'\r\n            ? this.settings.isMobile()\r\n            : utils.isMobile()) {\r\n            var mobileSettings = __assign(__assign({}, this.settings.mobileSettings), this.settings.mobileSettings);\r\n            this.settings = __assign(__assign({}, this.settings), mobileSettings);\r\n        }\r\n    };\r\n    LightGallery.prototype.normalizeSettings = function () {\r\n        if (this.settings.slideEndAnimation) {\r\n            this.settings.hideControlOnEnd = false;\r\n        }\r\n        if (!this.settings.closable) {\r\n            this.settings.swipeToClose = false;\r\n        }\r\n        // And reset it on close to get the correct value next time\r\n        this.zoomFromOrigin = this.settings.zoomFromOrigin;\r\n        // At the moment, Zoom from image doesn't support dynamic options\r\n        // @todo add zoomFromOrigin support for dynamic images\r\n        if (this.settings.dynamic) {\r\n            this.zoomFromOrigin = false;\r\n        }\r\n        if (!this.settings.container) {\r\n            this.settings.container = document.body;\r\n        }\r\n        // settings.preload should not be grater than $item.length\r\n        this.settings.preload = Math.min(this.settings.preload, this.galleryItems.length);\r\n    };\r\n    LightGallery.prototype.init = function () {\r\n        var _this = this;\r\n        this.addSlideVideoInfo(this.galleryItems);\r\n        this.buildStructure();\r\n        this.LGel.trigger(lGEvents.init, {\r\n            instance: this,\r\n        });\r\n        if (this.settings.keyPress) {\r\n            this.keyPress();\r\n        }\r\n        setTimeout(function () {\r\n            _this.enableDrag();\r\n            _this.enableSwipe();\r\n            _this.triggerPosterClick();\r\n        }, 50);\r\n        this.arrow();\r\n        if (this.settings.mousewheel) {\r\n            this.mousewheel();\r\n        }\r\n        if (!this.settings.dynamic) {\r\n            this.openGalleryOnItemClick();\r\n        }\r\n    };\r\n    LightGallery.prototype.openGalleryOnItemClick = function () {\r\n        var _this = this;\r\n        var _loop_1 = function (index) {\r\n            var element = this_1.items[index];\r\n            var $element = $LG(element);\r\n            // Using different namespace for click because click event should not unbind if selector is same object('this')\r\n            // @todo manage all event listners - should have namespace that represent element\r\n            var uuid = lgQuery.generateUUID();\r\n            $element\r\n                .attr('data-lg-id', uuid)\r\n                .on(\"click.lgcustom-item-\" + uuid, function (e) {\r\n                e.preventDefault();\r\n                var currentItemIndex = _this.settings.index || index;\r\n                _this.openGallery(currentItemIndex, element);\r\n            });\r\n        };\r\n        var this_1 = this;\r\n        // Using for loop instead of using bubbling as the items can be any html element.\r\n        for (var index = 0; index < this.items.length; index++) {\r\n            _loop_1(index);\r\n        }\r\n    };\r\n    /**\r\n     * Module constructor\r\n     * Modules are build incrementally.\r\n     * Gallery should be opened only once all the modules are initialized.\r\n     * use moduleBuildTimeout to make sure this\r\n     */\r\n    LightGallery.prototype.buildModules = function () {\r\n        var _this = this;\r\n        this.settings.plugins.forEach(function (plugin) {\r\n            _this.plugins.push(new plugin(_this, $LG));\r\n        });\r\n    };\r\n    LightGallery.prototype.validateLicense = function () {\r\n        if (!this.settings.licenseKey) {\r\n            console.error('Please provide a valid license key');\r\n        }\r\n        else if (this.settings.licenseKey === '0000-0000-000-0000') {\r\n            console.warn(\"lightGallery: \" + this.settings.licenseKey + \" license key is not valid for production use\");\r\n        }\r\n    };\r\n    LightGallery.prototype.getSlideItem = function (index) {\r\n        return $LG(this.getSlideItemId(index));\r\n    };\r\n    LightGallery.prototype.getSlideItemId = function (index) {\r\n        return \"#lg-item-\" + this.lgId + \"-\" + index;\r\n    };\r\n    LightGallery.prototype.getIdName = function (id) {\r\n        return id + \"-\" + this.lgId;\r\n    };\r\n    LightGallery.prototype.getElementById = function (id) {\r\n        return $LG(\"#\" + this.getIdName(id));\r\n    };\r\n    LightGallery.prototype.manageSingleSlideClassName = function () {\r\n        if (this.galleryItems.length < 2) {\r\n            this.outer.addClass('lg-single-item');\r\n        }\r\n        else {\r\n            this.outer.removeClass('lg-single-item');\r\n        }\r\n    };\r\n    LightGallery.prototype.buildStructure = function () {\r\n        var _this = this;\r\n        var container = this.$container && this.$container.get();\r\n        if (container) {\r\n            return;\r\n        }\r\n        var controls = '';\r\n        var subHtmlCont = '';\r\n        // Create controls\r\n        if (this.settings.controls) {\r\n            controls = \"<button type=\\\"button\\\" id=\\\"\" + this.getIdName('lg-prev') + \"\\\" aria-label=\\\"Previous slide\\\" class=\\\"lg-prev lg-icon\\\"> \" + this.settings.prevHtml + \" </button>\\n                <button type=\\\"button\\\" id=\\\"\" + this.getIdName('lg-next') + \"\\\" aria-label=\\\"Next slide\\\" class=\\\"lg-next lg-icon\\\"> \" + this.settings.nextHtml + \" </button>\";\r\n        }\r\n        if (this.settings.appendSubHtmlTo !== '.lg-item') {\r\n            subHtmlCont =\r\n                '<div class=\"lg-sub-html\" role=\"status\" aria-live=\"polite\"></div>';\r\n        }\r\n        var addClasses = '';\r\n        if (this.settings.allowMediaOverlap) {\r\n            // Do not remove space before last single quote\r\n            addClasses += 'lg-media-overlap ';\r\n        }\r\n        var ariaLabelledby = this.settings.ariaLabelledby\r\n            ? 'aria-labelledby=\"' + this.settings.ariaLabelledby + '\"'\r\n            : '';\r\n        var ariaDescribedby = this.settings.ariaDescribedby\r\n            ? 'aria-describedby=\"' + this.settings.ariaDescribedby + '\"'\r\n            : '';\r\n        var containerClassName = \"lg-container \" + this.settings.addClass + \" \" + (document.body !== this.settings.container ? 'lg-inline' : '');\r\n        var closeIcon = this.settings.closable && this.settings.showCloseIcon\r\n            ? \"<button type=\\\"button\\\" aria-label=\\\"Close gallery\\\" id=\\\"\" + this.getIdName('lg-close') + \"\\\" class=\\\"lg-close lg-icon\\\"></button>\"\r\n            : '';\r\n        var maximizeIcon = this.settings.showMaximizeIcon\r\n            ? \"<button type=\\\"button\\\" aria-label=\\\"Toggle maximize\\\" id=\\\"\" + this.getIdName('lg-maximize') + \"\\\" class=\\\"lg-maximize lg-icon\\\"></button>\"\r\n            : '';\r\n        var template = \"\\n        <div class=\\\"\" + containerClassName + \"\\\" id=\\\"\" + this.getIdName('lg-container') + \"\\\" tabindex=\\\"-1\\\" aria-modal=\\\"true\\\" \" + ariaLabelledby + \" \" + ariaDescribedby + \" role=\\\"dialog\\\"\\n        >\\n            <div id=\\\"\" + this.getIdName('lg-backdrop') + \"\\\" class=\\\"lg-backdrop\\\"></div>\\n\\n            <div id=\\\"\" + this.getIdName('lg-outer') + \"\\\" class=\\\"lg-outer lg-use-css3 lg-css3 lg-hide-items \" + addClasses + \" \\\">\\n\\n              <div id=\\\"\" + this.getIdName('lg-content') + \"\\\" class=\\\"lg-content\\\">\\n                <div id=\\\"\" + this.getIdName('lg-inner') + \"\\\" class=\\\"lg-inner\\\">\\n                </div>\\n                \" + controls + \"\\n              </div>\\n                <div id=\\\"\" + this.getIdName('lg-toolbar') + \"\\\" class=\\\"lg-toolbar lg-group\\\">\\n                    \" + maximizeIcon + \"\\n                    \" + closeIcon + \"\\n                    </div>\\n                    \" + (this.settings.appendSubHtmlTo === '.lg-outer'\r\n            ? subHtmlCont\r\n            : '') + \"\\n                <div id=\\\"\" + this.getIdName('lg-components') + \"\\\" class=\\\"lg-components\\\">\\n                    \" + (this.settings.appendSubHtmlTo === '.lg-sub-html'\r\n            ? subHtmlCont\r\n            : '') + \"\\n                </div>\\n            </div>\\n        </div>\\n        \";\r\n        $LG(this.settings.container)\r\n            .css('position', 'relative')\r\n            .append(template);\r\n        this.outer = this.getElementById('lg-outer');\r\n        this.$lgComponents = this.getElementById('lg-components');\r\n        this.$backdrop = this.getElementById('lg-backdrop');\r\n        this.$container = this.getElementById('lg-container');\r\n        this.$inner = this.getElementById('lg-inner');\r\n        this.$content = this.getElementById('lg-content');\r\n        this.$toolbar = this.getElementById('lg-toolbar');\r\n        this.$backdrop.css('transition-duration', this.settings.backdropDuration + 'ms');\r\n        var outerClassNames = this.settings.mode + \" \";\r\n        this.manageSingleSlideClassName();\r\n        if (this.settings.enableDrag) {\r\n            outerClassNames += 'lg-grab ';\r\n        }\r\n        if (this.settings.showAfterLoad) {\r\n            outerClassNames += 'lg-show-after-load';\r\n        }\r\n        this.outer.addClass(outerClassNames);\r\n        this.$inner.css('transition-timing-function', this.settings.easing);\r\n        this.$inner.css('transition-duration', this.settings.speed + 'ms');\r\n        if (this.settings.download) {\r\n            this.$toolbar.append(\"<a id=\\\"\" + this.getIdName('lg-download') + \"\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\" aria-label=\\\"Download\\\" download class=\\\"lg-download lg-icon\\\"></a>\");\r\n        }\r\n        this.counter();\r\n        $LG(window).on(\"resize.lg.global\" + this.lgId + \" orientationchange.lg.global\" + this.lgId, function () {\r\n            _this.refreshOnResize();\r\n        });\r\n        this.hideBars();\r\n        this.manageCloseGallery();\r\n        this.toggleMaximize();\r\n        this.initModules();\r\n    };\r\n    LightGallery.prototype.refreshOnResize = function () {\r\n        if (this.lgOpened) {\r\n            var currentGalleryItem = this.galleryItems[this.index];\r\n            var videoInfo = currentGalleryItem.__slideVideoInfo;\r\n            this.mediaContainerPosition = this.getMediaContainerPosition();\r\n            var _a = this.mediaContainerPosition, top_1 = _a.top, bottom = _a.bottom;\r\n            this.currentImageSize = utils.getSize(this.items[this.index], this.outer, top_1 + bottom, videoInfo && this.settings.videoMaxSize);\r\n            if (videoInfo) {\r\n                this.resizeVideoSlide(this.index, this.currentImageSize);\r\n            }\r\n            if (this.zoomFromOrigin && !this.isDummyImageRemoved) {\r\n                var imgStyle = this.getDummyImgStyles(this.currentImageSize);\r\n                this.outer\r\n                    .find('.lg-current .lg-dummy-img')\r\n                    .first()\r\n                    .attr('style', imgStyle);\r\n            }\r\n            this.LGel.trigger(lGEvents.containerResize);\r\n        }\r\n    };\r\n    LightGallery.prototype.resizeVideoSlide = function (index, imageSize) {\r\n        var lgVideoStyle = this.getVideoContStyle(imageSize);\r\n        var currentSlide = this.getSlideItem(index);\r\n        currentSlide.find('.lg-video-cont').attr('style', lgVideoStyle);\r\n    };\r\n    /**\r\n     * Update slides dynamically.\r\n     * Add, edit or delete slides dynamically when lightGallery is opened.\r\n     * Modify the current gallery items and pass it via updateSlides method\r\n     * @note\r\n     * - Do not mutate existing lightGallery items directly.\r\n     * - Always pass new list of gallery items\r\n     * - You need to take care of thumbnails outside the gallery if any\r\n     * - user this method only if you want to update slides when the gallery is opened. Otherwise, use `refresh()` method.\r\n     * @param items Gallery items\r\n     * @param index After the update operation, which slide gallery should navigate to\r\n     * @category lGPublicMethods\r\n     * @example\r\n     * const plugin = lightGallery();\r\n     *\r\n     * // Adding slides dynamically\r\n     * let galleryItems = [\r\n     * // Access existing lightGallery items\r\n     * // galleryItems are automatically generated internally from the gallery HTML markup\r\n     * // or directly from galleryItems when dynamic gallery is used\r\n     *   ...plugin.galleryItems,\r\n     *     ...[\r\n     *       {\r\n     *         src: 'img/img-1.png',\r\n     *           thumb: 'img/thumb1.png',\r\n     *         },\r\n     *     ],\r\n     *   ];\r\n     *   plugin.updateSlides(\r\n     *     galleryItems,\r\n     *     plugin.index,\r\n     *   );\r\n     *\r\n     *\r\n     * // Remove slides dynamically\r\n     * galleryItems = JSON.parse(\r\n     *   JSON.stringify(updateSlideInstance.galleryItems),\r\n     * );\r\n     * galleryItems.shift();\r\n     * updateSlideInstance.updateSlides(galleryItems, 1);\r\n     * @see <a href=\"/demos/update-slides/\">Demo</a>\r\n     */\r\n    LightGallery.prototype.updateSlides = function (items, index) {\r\n        if (this.index > items.length - 1) {\r\n            this.index = items.length - 1;\r\n        }\r\n        if (items.length === 1) {\r\n            this.index = 0;\r\n        }\r\n        if (!items.length) {\r\n            this.closeGallery();\r\n            return;\r\n        }\r\n        var currentSrc = this.galleryItems[index].src;\r\n        this.galleryItems = items;\r\n        this.updateControls();\r\n        this.$inner.empty();\r\n        this.currentItemsInDom = [];\r\n        var _index = 0;\r\n        // Find the current index based on source value of the slide\r\n        this.galleryItems.some(function (galleryItem, itemIndex) {\r\n            if (galleryItem.src === currentSrc) {\r\n                _index = itemIndex;\r\n                return true;\r\n            }\r\n            return false;\r\n        });\r\n        this.currentItemsInDom = this.organizeSlideItems(_index, -1);\r\n        this.loadContent(_index, true);\r\n        this.getSlideItem(_index).addClass('lg-current');\r\n        this.index = _index;\r\n        this.updateCurrentCounter(_index);\r\n        this.LGel.trigger(lGEvents.updateSlides);\r\n    };\r\n    // Get gallery items based on multiple conditions\r\n    LightGallery.prototype.getItems = function () {\r\n        // Gallery items\r\n        this.items = [];\r\n        if (!this.settings.dynamic) {\r\n            if (this.settings.selector === 'this') {\r\n                this.items.push(this.el);\r\n            }\r\n            else if (this.settings.selector) {\r\n                if (typeof this.settings.selector === 'string') {\r\n                    if (this.settings.selectWithin) {\r\n                        var selectWithin = $LG(this.settings.selectWithin);\r\n                        this.items = selectWithin\r\n                            .find(this.settings.selector)\r\n                            .get();\r\n                    }\r\n                    else {\r\n                        this.items = this.el.querySelectorAll(this.settings.selector);\r\n                    }\r\n                }\r\n                else {\r\n                    this.items = this.settings.selector;\r\n                }\r\n            }\r\n            else {\r\n                this.items = this.el.children;\r\n            }\r\n            return utils.getDynamicOptions(this.items, this.settings.extraProps, this.settings.getCaptionFromTitleOrAlt, this.settings.exThumbImage);\r\n        }\r\n        else {\r\n            return this.settings.dynamicEl || [];\r\n        }\r\n    };\r\n    /**\r\n     * Open lightGallery.\r\n     * Open gallery with specific slide by passing index of the slide as parameter.\r\n     * @category lGPublicMethods\r\n     * @param {Number} index  - index of the slide\r\n     * @param {HTMLElement} element - Which image lightGallery should zoom from\r\n     *\r\n     * @example\r\n     * const $dynamicGallery = document.getElementById('dynamic-gallery-demo');\r\n     * const dynamicGallery = lightGallery($dynamicGallery, {\r\n     *     dynamic: true,\r\n     *     dynamicEl: [\r\n     *         {\r\n     *              src: 'img/1.jpg',\r\n     *              thumb: 'img/thumb-1.jpg',\r\n     *              subHtml: '<h4>Image 1 title</h4><p>Image 1 descriptions.</p>',\r\n     *         },\r\n     *         ...\r\n     *     ],\r\n     * });\r\n     * $dynamicGallery.addEventListener('click', function () {\r\n     *     // Starts with third item.(Optional).\r\n     *     // This is useful if you want use dynamic mode with\r\n     *     // custom thumbnails (thumbnails outside gallery),\r\n     *     dynamicGallery.openGallery(2);\r\n     * });\r\n     *\r\n     */\r\n    LightGallery.prototype.openGallery = function (index, element) {\r\n        var _this = this;\r\n        if (index === void 0) { index = this.settings.index; }\r\n        // prevent accidental double execution\r\n        if (this.lgOpened)\r\n            return;\r\n        this.lgOpened = true;\r\n        this.outer.get().focus();\r\n        this.outer.removeClass('lg-hide-items');\r\n        // Add display block, but still has opacity 0\r\n        this.$container.addClass('lg-show');\r\n        var itemsToBeInsertedToDom = this.getItemsToBeInsertedToDom(index, index);\r\n        this.currentItemsInDom = itemsToBeInsertedToDom;\r\n        var items = '';\r\n        itemsToBeInsertedToDom.forEach(function (item) {\r\n            items = items + (\"<div id=\\\"\" + item + \"\\\" class=\\\"lg-item\\\"></div>\");\r\n        });\r\n        this.$inner.append(items);\r\n        this.addHtml(index);\r\n        var transform = '';\r\n        this.mediaContainerPosition = this.getMediaContainerPosition();\r\n        var _a = this.mediaContainerPosition, top = _a.top, bottom = _a.bottom;\r\n        if (!this.settings.allowMediaOverlap) {\r\n            this.setMediaContainerPosition(top, bottom);\r\n        }\r\n        if (this.zoomFromOrigin && element) {\r\n            this.currentImageSize = utils.getSize(element, this.outer, top + bottom, this.galleryItems[index].__slideVideoInfo &&\r\n                this.settings.videoMaxSize);\r\n            transform = utils.getTransform(element, this.outer, top, bottom, this.currentImageSize);\r\n        }\r\n        if (!this.zoomFromOrigin || !transform) {\r\n            this.outer.addClass(this.settings.startClass);\r\n            this.getSlideItem(index).removeClass('lg-complete');\r\n        }\r\n        var timeout = this.settings.zoomFromOrigin\r\n            ? 100\r\n            : this.settings.backdropDuration;\r\n        setTimeout(function () {\r\n            _this.outer.addClass('lg-components-open');\r\n        }, timeout);\r\n        this.index = index;\r\n        this.LGel.trigger(lGEvents.beforeOpen);\r\n        // add class lg-current to remove initial transition\r\n        this.getSlideItem(index).addClass('lg-current');\r\n        this.lGalleryOn = false;\r\n        // Store the current scroll top value to scroll back after closing the gallery..\r\n        this.prevScrollTop = $LG(window).scrollTop();\r\n        setTimeout(function () {\r\n            // Need to check both zoomFromOrigin and transform values as we need to set set the\r\n            // default opening animation if user missed to add the lg-size attribute\r\n            if (_this.zoomFromOrigin && transform) {\r\n                var currentSlide_1 = _this.getSlideItem(index);\r\n                currentSlide_1.css('transform', transform);\r\n                setTimeout(function () {\r\n                    currentSlide_1\r\n                        .addClass('lg-start-progress lg-start-end-progress')\r\n                        .css('transition-duration', _this.settings.startAnimationDuration + 'ms');\r\n                    _this.outer.addClass('lg-zoom-from-image');\r\n                });\r\n                setTimeout(function () {\r\n                    currentSlide_1.css('transform', 'translate3d(0, 0, 0)');\r\n                }, 100);\r\n            }\r\n            setTimeout(function () {\r\n                _this.$backdrop.addClass('in');\r\n                _this.$container.addClass('lg-show-in');\r\n            }, 10);\r\n            // lg-visible class resets gallery opacity to 1\r\n            if (!_this.zoomFromOrigin || !transform) {\r\n                setTimeout(function () {\r\n                    _this.outer.addClass('lg-visible');\r\n                }, _this.settings.backdropDuration);\r\n            }\r\n            // initiate slide function\r\n            _this.slide(index, false, false, false);\r\n            _this.LGel.trigger(lGEvents.afterOpen);\r\n        });\r\n        if (document.body === this.settings.container) {\r\n            $LG('html').addClass('lg-on');\r\n        }\r\n    };\r\n    /**\r\n     * Note - Changing the position of the media on every slide transition creates a flickering effect.\r\n     * Therefore,The height of the caption is calculated dynamically, only once based on the first slide caption.\r\n     * if you have dynamic captions for each media,\r\n     * you can provide an appropriate height for the captions via allowMediaOverlap option\r\n     */\r\n    LightGallery.prototype.getMediaContainerPosition = function () {\r\n        if (this.settings.allowMediaOverlap) {\r\n            return {\r\n                top: 0,\r\n                bottom: 0,\r\n            };\r\n        }\r\n        var top = this.$toolbar.get().clientHeight || 0;\r\n        var subHtml = this.outer.find('.lg-components .lg-sub-html').get();\r\n        var captionHeight = this.settings.defaultCaptionHeight ||\r\n            (subHtml && subHtml.clientHeight) ||\r\n            0;\r\n        var thumbContainer = this.outer.find('.lg-thumb-outer').get();\r\n        var thumbHeight = thumbContainer ? thumbContainer.clientHeight : 0;\r\n        var bottom = thumbHeight + captionHeight;\r\n        return {\r\n            top: top,\r\n            bottom: bottom,\r\n        };\r\n    };\r\n    LightGallery.prototype.setMediaContainerPosition = function (top, bottom) {\r\n        if (top === void 0) { top = 0; }\r\n        if (bottom === void 0) { bottom = 0; }\r\n        this.$content.css('top', top + 'px').css('bottom', bottom + 'px');\r\n    };\r\n    LightGallery.prototype.hideBars = function () {\r\n        var _this = this;\r\n        // Hide controllers if mouse doesn't move for some period\r\n        setTimeout(function () {\r\n            _this.outer.removeClass('lg-hide-items');\r\n            if (_this.settings.hideBarsDelay > 0) {\r\n                _this.outer.on('mousemove.lg click.lg touchstart.lg', function () {\r\n                    _this.outer.removeClass('lg-hide-items');\r\n                    clearTimeout(_this.hideBarTimeout);\r\n                    // Timeout will be cleared on each slide movement also\r\n                    _this.hideBarTimeout = setTimeout(function () {\r\n                        _this.outer.addClass('lg-hide-items');\r\n                    }, _this.settings.hideBarsDelay);\r\n                });\r\n                _this.outer.trigger('mousemove.lg');\r\n            }\r\n        }, this.settings.showBarsAfter);\r\n    };\r\n    LightGallery.prototype.initPictureFill = function ($img) {\r\n        if (this.settings.supportLegacyBrowser) {\r\n            try {\r\n                picturefill({\r\n                    elements: [$img.get()],\r\n                });\r\n            }\r\n            catch (e) {\r\n                console.warn('lightGallery :- If you want srcset or picture tag to be supported for older browser please include picturefil javascript library in your document.');\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     *  @desc Create image counter\r\n     *  Ex: 1/10\r\n     */\r\n    LightGallery.prototype.counter = function () {\r\n        if (this.settings.counter) {\r\n            var counterHtml = \"<div class=\\\"lg-counter\\\" role=\\\"status\\\" aria-live=\\\"polite\\\">\\n                <span id=\\\"\" + this.getIdName('lg-counter-current') + \"\\\" class=\\\"lg-counter-current\\\">\" + (this.index + 1) + \" </span> /\\n                <span id=\\\"\" + this.getIdName('lg-counter-all') + \"\\\" class=\\\"lg-counter-all\\\">\" + this.galleryItems.length + \" </span></div>\";\r\n            this.outer.find(this.settings.appendCounterTo).append(counterHtml);\r\n        }\r\n    };\r\n    /**\r\n     *  @desc add sub-html into the slide\r\n     *  @param {Number} index - index of the slide\r\n     */\r\n    LightGallery.prototype.addHtml = function (index) {\r\n        var subHtml;\r\n        var subHtmlUrl;\r\n        if (this.galleryItems[index].subHtmlUrl) {\r\n            subHtmlUrl = this.galleryItems[index].subHtmlUrl;\r\n        }\r\n        else {\r\n            subHtml = this.galleryItems[index].subHtml;\r\n        }\r\n        if (!subHtmlUrl) {\r\n            if (subHtml) {\r\n                // get first letter of sub-html\r\n                // if first letter starts with . or # get the html form the jQuery object\r\n                var fL = subHtml.substring(0, 1);\r\n                if (fL === '.' || fL === '#') {\r\n                    if (this.settings.subHtmlSelectorRelative &&\r\n                        !this.settings.dynamic) {\r\n                        subHtml = $LG(this.items)\r\n                            .eq(index)\r\n                            .find(subHtml)\r\n                            .first()\r\n                            .html();\r\n                    }\r\n                    else {\r\n                        subHtml = $LG(subHtml).first().html();\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                subHtml = '';\r\n            }\r\n        }\r\n        if (this.settings.appendSubHtmlTo !== '.lg-item') {\r\n            if (subHtmlUrl) {\r\n                this.outer.find('.lg-sub-html').load(subHtmlUrl);\r\n            }\r\n            else {\r\n                this.outer.find('.lg-sub-html').html(subHtml);\r\n            }\r\n        }\r\n        else {\r\n            var currentSlide = $LG(this.getSlideItemId(index));\r\n            if (subHtmlUrl) {\r\n                currentSlide.load(subHtmlUrl);\r\n            }\r\n            else {\r\n                currentSlide.append(\"<div class=\\\"lg-sub-html\\\">\" + subHtml + \"</div>\");\r\n            }\r\n        }\r\n        // Add lg-empty-html class if title doesn't exist\r\n        if (typeof subHtml !== 'undefined' && subHtml !== null) {\r\n            if (subHtml === '') {\r\n                this.outer\r\n                    .find(this.settings.appendSubHtmlTo)\r\n                    .addClass('lg-empty-html');\r\n            }\r\n            else {\r\n                this.outer\r\n                    .find(this.settings.appendSubHtmlTo)\r\n                    .removeClass('lg-empty-html');\r\n            }\r\n        }\r\n        this.LGel.trigger(lGEvents.afterAppendSubHtml, {\r\n            index: index,\r\n        });\r\n    };\r\n    /**\r\n     *  @desc Preload slides\r\n     *  @param {Number} index - index of the slide\r\n     * @todo preload not working for the first slide, Also, should work for the first and last slide as well\r\n     */\r\n    LightGallery.prototype.preload = function (index) {\r\n        for (var i = 1; i <= this.settings.preload; i++) {\r\n            if (i >= this.galleryItems.length - index) {\r\n                break;\r\n            }\r\n            this.loadContent(index + i, false);\r\n        }\r\n        for (var j = 1; j <= this.settings.preload; j++) {\r\n            if (index - j < 0) {\r\n                break;\r\n            }\r\n            this.loadContent(index - j, false);\r\n        }\r\n    };\r\n    LightGallery.prototype.getDummyImgStyles = function (imageSize) {\r\n        if (!imageSize)\r\n            return '';\r\n        return \"width:\" + imageSize.width + \"px;\\n                margin-left: -\" + imageSize.width / 2 + \"px;\\n                margin-top: -\" + imageSize.height / 2 + \"px;\\n                height:\" + imageSize.height + \"px\";\r\n    };\r\n    LightGallery.prototype.getVideoContStyle = function (imageSize) {\r\n        if (!imageSize)\r\n            return '';\r\n        return \"width:\" + imageSize.width + \"px;\\n                height:\" + imageSize.height + \"px\";\r\n    };\r\n    LightGallery.prototype.getDummyImageContent = function ($currentSlide, index, alt) {\r\n        var $currentItem;\r\n        if (!this.settings.dynamic) {\r\n            $currentItem = $LG(this.items).eq(index);\r\n        }\r\n        if ($currentItem) {\r\n            var _dummyImgSrc = void 0;\r\n            if (!this.settings.exThumbImage) {\r\n                _dummyImgSrc = $currentItem.find('img').first().attr('src');\r\n            }\r\n            else {\r\n                _dummyImgSrc = $currentItem.attr(this.settings.exThumbImage);\r\n            }\r\n            if (!_dummyImgSrc)\r\n                return '';\r\n            var imgStyle = this.getDummyImgStyles(this.currentImageSize);\r\n            var dummyImgContent = \"<img \" + alt + \" style=\\\"\" + imgStyle + \"\\\" class=\\\"lg-dummy-img\\\" src=\\\"\" + _dummyImgSrc + \"\\\" />\";\r\n            $currentSlide.addClass('lg-first-slide');\r\n            this.outer.addClass('lg-first-slide-loading');\r\n            return dummyImgContent;\r\n        }\r\n        return '';\r\n    };\r\n    LightGallery.prototype.setImgMarkup = function (src, $currentSlide, index) {\r\n        var currentGalleryItem = this.galleryItems[index];\r\n        var alt = currentGalleryItem.alt, srcset = currentGalleryItem.srcset, sizes = currentGalleryItem.sizes, sources = currentGalleryItem.sources;\r\n        // Use the thumbnail as dummy image which will be resized to actual image size and\r\n        // displayed on top of actual image\r\n        var imgContent = '';\r\n        var altAttr = alt ? 'alt=\"' + alt + '\"' : '';\r\n        if (!this.lGalleryOn && this.zoomFromOrigin && this.currentImageSize) {\r\n            imgContent = this.getDummyImageContent($currentSlide, index, altAttr);\r\n        }\r\n        else {\r\n            imgContent = utils.getImgMarkup(index, src, altAttr, srcset, sizes, sources);\r\n        }\r\n        var imgMarkup = \"<picture class=\\\"lg-img-wrap\\\"> \" + imgContent + \"</picture>\";\r\n        $currentSlide.prepend(imgMarkup);\r\n    };\r\n    LightGallery.prototype.onLgObjectLoad = function ($el, index, delay, speed, dummyImageLoaded) {\r\n        var _this = this;\r\n        if (dummyImageLoaded) {\r\n            this.LGel.trigger(lGEvents.slideItemLoad, {\r\n                index: index,\r\n                delay: delay || 0,\r\n            });\r\n        }\r\n        $el.find('.lg-object')\r\n            .first()\r\n            .on('load.lg', function () {\r\n            _this.handleLgObjectLoad($el, index, delay, speed, dummyImageLoaded);\r\n        });\r\n        setTimeout(function () {\r\n            $el.find('.lg-object')\r\n                .first()\r\n                .on('error.lg', function () {\r\n                $el.addClass('lg-complete lg-complete_');\r\n                $el.html('<span class=\"lg-error-msg\">Oops... Failed to load content...</span>');\r\n            });\r\n        }, speed);\r\n    };\r\n    LightGallery.prototype.handleLgObjectLoad = function ($el, index, delay, speed, dummyImageLoaded) {\r\n        var _this = this;\r\n        setTimeout(function () {\r\n            $el.addClass('lg-complete lg-complete_');\r\n            if (!dummyImageLoaded) {\r\n                _this.LGel.trigger(lGEvents.slideItemLoad, {\r\n                    index: index,\r\n                    delay: delay || 0,\r\n                });\r\n            }\r\n        }, speed);\r\n    };\r\n    /**\r\n     * @desc Check the given src is video\r\n     * @param {String} src\r\n     * @return {Object} video type\r\n     * Ex:{ youtube  :  [\"//www.youtube.com/watch?v=c0asJgSyxcY\", \"c0asJgSyxcY\"] }\r\n     *\r\n     * @todo - this information can be moved to dynamicEl to avoid frequent calls\r\n     */\r\n    LightGallery.prototype.isVideo = function (src, index) {\r\n        if (!src) {\r\n            if (this.galleryItems[index].video) {\r\n                return {\r\n                    html5: true,\r\n                };\r\n            }\r\n            else {\r\n                console.error('lightGallery :- data-src is not provided on slide item ' +\r\n                    (index + 1) +\r\n                    '. Please make sure the selector property is properly configured. More info - https://www.lightgalleryjs.com/demos/html-markup/');\r\n                return;\r\n            }\r\n        }\r\n        var youtube = src.match(/\\/\\/(?:www\\.)?youtu(?:\\.be|be\\.com|be-nocookie\\.com)\\/(?:watch\\?v=|embed\\/)?([a-z0-9\\-\\_\\%]+)/i);\r\n        var vimeo = src.match(/\\/\\/(?:www\\.)?(?:player\\.)?vimeo.com\\/(?:video\\/)?([0-9a-z\\-_]+)/i);\r\n        var wistia = src.match(/https?:\\/\\/(.+)?(wistia\\.com|wi\\.st)\\/(medias|embed)\\/([0-9a-z\\-_]+)(.*)/);\r\n        if (youtube) {\r\n            return {\r\n                youtube: youtube,\r\n            };\r\n        }\r\n        else if (vimeo) {\r\n            return {\r\n                vimeo: vimeo,\r\n            };\r\n        }\r\n        else if (wistia) {\r\n            return {\r\n                wistia: wistia,\r\n            };\r\n        }\r\n    };\r\n    // Add video slideInfo\r\n    LightGallery.prototype.addSlideVideoInfo = function (items) {\r\n        var _this = this;\r\n        items.forEach(function (element, index) {\r\n            element.__slideVideoInfo = _this.isVideo(element.src, index);\r\n        });\r\n    };\r\n    /**\r\n     *  Load slide content into slide.\r\n     *  This is used to load content into slides that is not visible too\r\n     *  @param {Number} index - index of the slide.\r\n     *  @param {Boolean} rec - if true call loadcontent() function again.\r\n     */\r\n    LightGallery.prototype.loadContent = function (index, rec) {\r\n        var _this = this;\r\n        var currentGalleryItem = this.galleryItems[index];\r\n        var $currentSlide = $LG(this.getSlideItemId(index));\r\n        var poster = currentGalleryItem.poster, srcset = currentGalleryItem.srcset, sizes = currentGalleryItem.sizes, sources = currentGalleryItem.sources;\r\n        var src = currentGalleryItem.src;\r\n        var video = currentGalleryItem.video;\r\n        var _html5Video = video && typeof video === 'string' ? JSON.parse(video) : video;\r\n        if (currentGalleryItem.responsive) {\r\n            var srcDyItms = currentGalleryItem.responsive.split(',');\r\n            src = utils.getResponsiveSrc(srcDyItms) || src;\r\n        }\r\n        var videoInfo = currentGalleryItem.__slideVideoInfo;\r\n        var lgVideoStyle = '';\r\n        var iframe = !!currentGalleryItem.iframe;\r\n        if (!$currentSlide.hasClass('lg-loaded')) {\r\n            if (videoInfo) {\r\n                var _a = this.mediaContainerPosition, top_2 = _a.top, bottom = _a.bottom;\r\n                var videoSize = utils.getSize(this.items[index], this.outer, top_2 + bottom, videoInfo && this.settings.videoMaxSize);\r\n                lgVideoStyle = this.getVideoContStyle(videoSize);\r\n            }\r\n            if (iframe) {\r\n                var markup = utils.getIframeMarkup(this.settings.iframeWidth, this.settings.iframeHeight, src, currentGalleryItem.iframeTitle);\r\n                $currentSlide.prepend(markup);\r\n            }\r\n            else if (poster) {\r\n                var dummyImg = '';\r\n                var isFirstSlide_1 = !this.lGalleryOn;\r\n                var hasStartAnimation = !this.lGalleryOn &&\r\n                    this.zoomFromOrigin &&\r\n                    this.currentImageSize;\r\n                if (hasStartAnimation) {\r\n                    dummyImg = this.getDummyImageContent($currentSlide, index, '');\r\n                }\r\n                var markup = utils.getVideoPosterMarkup(poster, dummyImg || '', lgVideoStyle, videoInfo);\r\n                $currentSlide.prepend(markup);\r\n                var delay_1 = (hasStartAnimation\r\n                    ? this.settings.startAnimationDuration\r\n                    : this.settings.backdropDuration) + 100;\r\n                setTimeout(function () {\r\n                    _this.LGel.trigger(lGEvents.hasVideo, {\r\n                        index: index,\r\n                        src: src,\r\n                        html5Video: _html5Video,\r\n                        hasPoster: true,\r\n                        isFirstSlide: isFirstSlide_1,\r\n                    });\r\n                }, delay_1);\r\n            }\r\n            else if (videoInfo) {\r\n                var markup = \"<div class=\\\"lg-video-cont \\\" style=\\\"\" + lgVideoStyle + \"\\\"></div>\";\r\n                $currentSlide.prepend(markup);\r\n                this.LGel.trigger(lGEvents.hasVideo, {\r\n                    index: index,\r\n                    src: src,\r\n                    html5Video: _html5Video,\r\n                    hasPoster: false,\r\n                });\r\n            }\r\n            else {\r\n                this.setImgMarkup(src, $currentSlide, index);\r\n                if (srcset || sources) {\r\n                    var $img = $currentSlide.find('.lg-object');\r\n                    this.initPictureFill($img);\r\n                }\r\n            }\r\n            this.LGel.trigger(lGEvents.afterAppendSlide, { index: index });\r\n            if (this.lGalleryOn &&\r\n                this.settings.appendSubHtmlTo === '.lg-item') {\r\n                this.addHtml(index);\r\n            }\r\n        }\r\n        // For first time add some delay for displaying the start animation.\r\n        var _speed = 0;\r\n        // delay for adding complete class. it is 0 except first time.\r\n        var delay = 0;\r\n        if (!this.lGalleryOn) {\r\n            if (this.zoomFromOrigin && this.currentImageSize) {\r\n                delay = this.settings.startAnimationDuration + 10;\r\n            }\r\n            else {\r\n                delay = this.settings.backdropDuration + 10;\r\n            }\r\n        }\r\n        // Do not change the delay value because it is required for zoom plugin.\r\n        // If gallery opened from direct url (hash) speed value should be 0\r\n        if (delay && !$LG(document.body).hasClass('lg-from-hash')) {\r\n            _speed = delay;\r\n        }\r\n        // Only for first slide\r\n        if (!this.lGalleryOn && this.zoomFromOrigin && this.currentImageSize) {\r\n            setTimeout(function () {\r\n                $currentSlide\r\n                    .removeClass('lg-start-end-progress lg-start-progress')\r\n                    .removeAttr('style');\r\n            }, this.settings.startAnimationDuration + 100);\r\n            if (!$currentSlide.hasClass('lg-loaded')) {\r\n                setTimeout(function () {\r\n                    $currentSlide\r\n                        .find('.lg-img-wrap')\r\n                        .append(utils.getImgMarkup(index, src, '', srcset, sizes, currentGalleryItem.sources));\r\n                    if (srcset || sources) {\r\n                        var $img = $currentSlide.find('.lg-object');\r\n                        _this.initPictureFill($img);\r\n                    }\r\n                    _this.onLgObjectLoad($currentSlide, index, delay, _speed, true);\r\n                    var mediaObject = $currentSlide\r\n                        .find('.lg-object')\r\n                        .first();\r\n                    if (utils.isImageLoaded(mediaObject.get())) {\r\n                        _this.loadContentOnLoad(index, $currentSlide, _speed);\r\n                    }\r\n                    else {\r\n                        mediaObject.on('load.lg error.lg', function () {\r\n                            _this.loadContentOnLoad(index, $currentSlide, _speed);\r\n                        });\r\n                    }\r\n                }, this.settings.startAnimationDuration + 100);\r\n            }\r\n        }\r\n        // SLide content has been added to dom\r\n        $currentSlide.addClass('lg-loaded');\r\n        this.onLgObjectLoad($currentSlide, index, delay, _speed, false);\r\n        // @todo check load state for html5 videos\r\n        if (videoInfo && videoInfo.html5 && !poster) {\r\n            $currentSlide.addClass('lg-complete lg-complete_');\r\n        }\r\n        // When gallery is opened once content is loaded (second time) need to add lg-complete class for css styling\r\n        if ((!this.zoomFromOrigin || !this.currentImageSize) &&\r\n            $currentSlide.hasClass('lg-complete_') &&\r\n            !this.lGalleryOn) {\r\n            setTimeout(function () {\r\n                $currentSlide.addClass('lg-complete');\r\n            }, this.settings.backdropDuration);\r\n        }\r\n        // Content loaded\r\n        // Need to set lGalleryOn before calling preload function\r\n        this.lGalleryOn = true;\r\n        if (rec === true) {\r\n            if (!$currentSlide.hasClass('lg-complete_')) {\r\n                $currentSlide\r\n                    .find('.lg-object')\r\n                    .first()\r\n                    .on('load.lg error.lg', function () {\r\n                    _this.preload(index);\r\n                });\r\n            }\r\n            else {\r\n                this.preload(index);\r\n            }\r\n        }\r\n    };\r\n    LightGallery.prototype.loadContentOnLoad = function (index, $currentSlide, speed) {\r\n        var _this = this;\r\n        setTimeout(function () {\r\n            $currentSlide.find('.lg-dummy-img').remove();\r\n            $currentSlide.removeClass('lg-first-slide');\r\n            _this.outer.removeClass('lg-first-slide-loading');\r\n            _this.isDummyImageRemoved = true;\r\n            _this.preload(index);\r\n        }, speed + 300);\r\n    };\r\n    LightGallery.prototype.getItemsToBeInsertedToDom = function (index, prevIndex, numberOfItems) {\r\n        var _this = this;\r\n        if (numberOfItems === void 0) { numberOfItems = 0; }\r\n        var itemsToBeInsertedToDom = [];\r\n        // Minimum 2 items should be there\r\n        var possibleNumberOfItems = Math.max(numberOfItems, 3);\r\n        possibleNumberOfItems = Math.min(possibleNumberOfItems, this.galleryItems.length);\r\n        var prevIndexItem = \"lg-item-\" + this.lgId + \"-\" + prevIndex;\r\n        if (this.galleryItems.length <= 3) {\r\n            this.galleryItems.forEach(function (_element, index) {\r\n                itemsToBeInsertedToDom.push(\"lg-item-\" + _this.lgId + \"-\" + index);\r\n            });\r\n            return itemsToBeInsertedToDom;\r\n        }\r\n        if (index < (this.galleryItems.length - 1) / 2) {\r\n            for (var idx = index; idx > index - possibleNumberOfItems / 2 && idx >= 0; idx--) {\r\n                itemsToBeInsertedToDom.push(\"lg-item-\" + this.lgId + \"-\" + idx);\r\n            }\r\n            var numberOfExistingItems = itemsToBeInsertedToDom.length;\r\n            for (var idx = 0; idx < possibleNumberOfItems - numberOfExistingItems; idx++) {\r\n                itemsToBeInsertedToDom.push(\"lg-item-\" + this.lgId + \"-\" + (index + idx + 1));\r\n            }\r\n        }\r\n        else {\r\n            for (var idx = index; idx <= this.galleryItems.length - 1 &&\r\n                idx < index + possibleNumberOfItems / 2; idx++) {\r\n                itemsToBeInsertedToDom.push(\"lg-item-\" + this.lgId + \"-\" + idx);\r\n            }\r\n            var numberOfExistingItems = itemsToBeInsertedToDom.length;\r\n            for (var idx = 0; idx < possibleNumberOfItems - numberOfExistingItems; idx++) {\r\n                itemsToBeInsertedToDom.push(\"lg-item-\" + this.lgId + \"-\" + (index - idx - 1));\r\n            }\r\n        }\r\n        if (this.settings.loop) {\r\n            if (index === this.galleryItems.length - 1) {\r\n                itemsToBeInsertedToDom.push(\"lg-item-\" + this.lgId + \"-\" + 0);\r\n            }\r\n            else if (index === 0) {\r\n                itemsToBeInsertedToDom.push(\"lg-item-\" + this.lgId + \"-\" + (this.galleryItems.length - 1));\r\n            }\r\n        }\r\n        if (itemsToBeInsertedToDom.indexOf(prevIndexItem) === -1) {\r\n            itemsToBeInsertedToDom.push(\"lg-item-\" + this.lgId + \"-\" + prevIndex);\r\n        }\r\n        return itemsToBeInsertedToDom;\r\n    };\r\n    LightGallery.prototype.organizeSlideItems = function (index, prevIndex) {\r\n        var _this = this;\r\n        var itemsToBeInsertedToDom = this.getItemsToBeInsertedToDom(index, prevIndex, this.settings.numberOfSlideItemsInDom);\r\n        itemsToBeInsertedToDom.forEach(function (item) {\r\n            if (_this.currentItemsInDom.indexOf(item) === -1) {\r\n                _this.$inner.append(\"<div id=\\\"\" + item + \"\\\" class=\\\"lg-item\\\"></div>\");\r\n            }\r\n        });\r\n        this.currentItemsInDom.forEach(function (item) {\r\n            if (itemsToBeInsertedToDom.indexOf(item) === -1) {\r\n                $LG(\"#\" + item).remove();\r\n            }\r\n        });\r\n        return itemsToBeInsertedToDom;\r\n    };\r\n    /**\r\n     * Get previous index of the slide\r\n     */\r\n    LightGallery.prototype.getPreviousSlideIndex = function () {\r\n        var prevIndex = 0;\r\n        try {\r\n            var currentItemId = this.outer\r\n                .find('.lg-current')\r\n                .first()\r\n                .attr('id');\r\n            prevIndex = parseInt(currentItemId.split('-')[3]) || 0;\r\n        }\r\n        catch (error) {\r\n            prevIndex = 0;\r\n        }\r\n        return prevIndex;\r\n    };\r\n    LightGallery.prototype.setDownloadValue = function (index) {\r\n        if (this.settings.download) {\r\n            var currentGalleryItem = this.galleryItems[index];\r\n            var hideDownloadBtn = currentGalleryItem.downloadUrl === false ||\r\n                currentGalleryItem.downloadUrl === 'false';\r\n            if (hideDownloadBtn) {\r\n                this.outer.addClass('lg-hide-download');\r\n            }\r\n            else {\r\n                var $download = this.getElementById('lg-download');\r\n                this.outer.removeClass('lg-hide-download');\r\n                $download.attr('href', currentGalleryItem.downloadUrl ||\r\n                    currentGalleryItem.src);\r\n                if (currentGalleryItem.download) {\r\n                    $download.attr('download', currentGalleryItem.download);\r\n                }\r\n            }\r\n        }\r\n    };\r\n    LightGallery.prototype.makeSlideAnimation = function (direction, currentSlideItem, previousSlideItem) {\r\n        var _this = this;\r\n        if (this.lGalleryOn) {\r\n            previousSlideItem.addClass('lg-slide-progress');\r\n        }\r\n        setTimeout(function () {\r\n            // remove all transitions\r\n            _this.outer.addClass('lg-no-trans');\r\n            _this.outer\r\n                .find('.lg-item')\r\n                .removeClass('lg-prev-slide lg-next-slide');\r\n            if (direction === 'prev') {\r\n                //prevslide\r\n                currentSlideItem.addClass('lg-prev-slide');\r\n                previousSlideItem.addClass('lg-next-slide');\r\n            }\r\n            else {\r\n                // next slide\r\n                currentSlideItem.addClass('lg-next-slide');\r\n                previousSlideItem.addClass('lg-prev-slide');\r\n            }\r\n            // give 50 ms for browser to add/remove class\r\n            setTimeout(function () {\r\n                _this.outer.find('.lg-item').removeClass('lg-current');\r\n                currentSlideItem.addClass('lg-current');\r\n                // reset all transitions\r\n                _this.outer.removeClass('lg-no-trans');\r\n            }, 50);\r\n        }, this.lGalleryOn ? this.settings.slideDelay : 0);\r\n    };\r\n    /**\r\n     * Goto a specific slide.\r\n     * @param {Number} index - index of the slide\r\n     * @param {Boolean} fromTouch - true if slide function called via touch event or mouse drag\r\n     * @param {Boolean} fromThumb - true if slide function called via thumbnail click\r\n     * @param {String} direction - Direction of the slide(next/prev)\r\n     * @category lGPublicMethods\r\n     * @example\r\n     *  const plugin = lightGallery();\r\n     *  // to go to 3rd slide\r\n     *  plugin.slide(2);\r\n     *\r\n     */\r\n    LightGallery.prototype.slide = function (index, fromTouch, fromThumb, direction) {\r\n        var _this = this;\r\n        var prevIndex = this.getPreviousSlideIndex();\r\n        this.currentItemsInDom = this.organizeSlideItems(index, prevIndex);\r\n        // Prevent multiple call, Required for hsh plugin\r\n        if (this.lGalleryOn && prevIndex === index) {\r\n            return;\r\n        }\r\n        var numberOfGalleryItems = this.galleryItems.length;\r\n        if (!this.lgBusy) {\r\n            if (this.settings.counter) {\r\n                this.updateCurrentCounter(index);\r\n            }\r\n            var currentSlideItem = this.getSlideItem(index);\r\n            var previousSlideItem_1 = this.getSlideItem(prevIndex);\r\n            var currentGalleryItem = this.galleryItems[index];\r\n            var videoInfo = currentGalleryItem.__slideVideoInfo;\r\n            this.outer.attr('data-lg-slide-type', this.getSlideType(currentGalleryItem));\r\n            this.setDownloadValue(index);\r\n            if (videoInfo) {\r\n                var _a = this.mediaContainerPosition, top_3 = _a.top, bottom = _a.bottom;\r\n                var videoSize = utils.getSize(this.items[index], this.outer, top_3 + bottom, videoInfo && this.settings.videoMaxSize);\r\n                this.resizeVideoSlide(index, videoSize);\r\n            }\r\n            this.LGel.trigger(lGEvents.beforeSlide, {\r\n                prevIndex: prevIndex,\r\n                index: index,\r\n                fromTouch: !!fromTouch,\r\n                fromThumb: !!fromThumb,\r\n            });\r\n            this.lgBusy = true;\r\n            clearTimeout(this.hideBarTimeout);\r\n            this.arrowDisable(index);\r\n            if (!direction) {\r\n                if (index < prevIndex) {\r\n                    direction = 'prev';\r\n                }\r\n                else if (index > prevIndex) {\r\n                    direction = 'next';\r\n                }\r\n            }\r\n            if (!fromTouch) {\r\n                this.makeSlideAnimation(direction, currentSlideItem, previousSlideItem_1);\r\n            }\r\n            else {\r\n                this.outer\r\n                    .find('.lg-item')\r\n                    .removeClass('lg-prev-slide lg-current lg-next-slide');\r\n                var touchPrev = void 0;\r\n                var touchNext = void 0;\r\n                if (numberOfGalleryItems > 2) {\r\n                    touchPrev = index - 1;\r\n                    touchNext = index + 1;\r\n                    if (index === 0 && prevIndex === numberOfGalleryItems - 1) {\r\n                        // next slide\r\n                        touchNext = 0;\r\n                        touchPrev = numberOfGalleryItems - 1;\r\n                    }\r\n                    else if (index === numberOfGalleryItems - 1 &&\r\n                        prevIndex === 0) {\r\n                        // prev slide\r\n                        touchNext = 0;\r\n                        touchPrev = numberOfGalleryItems - 1;\r\n                    }\r\n                }\r\n                else {\r\n                    touchPrev = 0;\r\n                    touchNext = 1;\r\n                }\r\n                if (direction === 'prev') {\r\n                    this.getSlideItem(touchNext).addClass('lg-next-slide');\r\n                }\r\n                else {\r\n                    this.getSlideItem(touchPrev).addClass('lg-prev-slide');\r\n                }\r\n                currentSlideItem.addClass('lg-current');\r\n            }\r\n            // Do not put load content in set timeout as it needs to load immediately when the gallery is opened\r\n            if (!this.lGalleryOn) {\r\n                this.loadContent(index, true);\r\n            }\r\n            setTimeout(function () {\r\n                if (_this.lGalleryOn) {\r\n                    _this.loadContent(index, true);\r\n                }\r\n                // Add title if this.settings.appendSubHtmlTo === lg-sub-html\r\n                if (_this.settings.appendSubHtmlTo !== '.lg-item') {\r\n                    _this.addHtml(index);\r\n                }\r\n            }, (this.lGalleryOn ? this.settings.speed + 50 : 50) + (fromTouch ? 0 : this.settings.slideDelay));\r\n            setTimeout(function () {\r\n                _this.lgBusy = false;\r\n                previousSlideItem_1.removeClass('lg-slide-progress');\r\n                _this.LGel.trigger(lGEvents.afterSlide, {\r\n                    prevIndex: prevIndex,\r\n                    index: index,\r\n                    fromTouch: fromTouch,\r\n                    fromThumb: fromThumb,\r\n                });\r\n            }, (this.lGalleryOn ? this.settings.speed + 100 : 100) + (fromTouch ? 0 : this.settings.slideDelay));\r\n        }\r\n        this.index = index;\r\n    };\r\n    LightGallery.prototype.updateCurrentCounter = function (index) {\r\n        this.getElementById('lg-counter-current').html(index + 1 + '');\r\n    };\r\n    LightGallery.prototype.updateCounterTotal = function () {\r\n        this.getElementById('lg-counter-all').html(this.galleryItems.length + '');\r\n    };\r\n    LightGallery.prototype.getSlideType = function (item) {\r\n        if (item.__slideVideoInfo) {\r\n            return 'video';\r\n        }\r\n        else if (item.iframe) {\r\n            return 'iframe';\r\n        }\r\n        else {\r\n            return 'image';\r\n        }\r\n    };\r\n    LightGallery.prototype.touchMove = function (startCoords, endCoords, e) {\r\n        var distanceX = endCoords.pageX - startCoords.pageX;\r\n        var distanceY = endCoords.pageY - startCoords.pageY;\r\n        var allowSwipe = false;\r\n        if (this.swipeDirection) {\r\n            allowSwipe = true;\r\n        }\r\n        else {\r\n            if (Math.abs(distanceX) > 15) {\r\n                this.swipeDirection = 'horizontal';\r\n                allowSwipe = true;\r\n            }\r\n            else if (Math.abs(distanceY) > 15) {\r\n                this.swipeDirection = 'vertical';\r\n                allowSwipe = true;\r\n            }\r\n        }\r\n        if (!allowSwipe) {\r\n            return;\r\n        }\r\n        var $currentSlide = this.getSlideItem(this.index);\r\n        if (this.swipeDirection === 'horizontal') {\r\n            e === null || e === void 0 ? void 0 : e.preventDefault();\r\n            // reset opacity and transition duration\r\n            this.outer.addClass('lg-dragging');\r\n            // move current slide\r\n            this.setTranslate($currentSlide, distanceX, 0);\r\n            // move next and prev slide with current slide\r\n            var width = $currentSlide.get().offsetWidth;\r\n            var slideWidthAmount = (width * 15) / 100;\r\n            var gutter = slideWidthAmount - Math.abs((distanceX * 10) / 100);\r\n            this.setTranslate(this.outer.find('.lg-prev-slide').first(), -width + distanceX - gutter, 0);\r\n            this.setTranslate(this.outer.find('.lg-next-slide').first(), width + distanceX + gutter, 0);\r\n        }\r\n        else if (this.swipeDirection === 'vertical') {\r\n            if (this.settings.swipeToClose) {\r\n                e === null || e === void 0 ? void 0 : e.preventDefault();\r\n                this.$container.addClass('lg-dragging-vertical');\r\n                var opacity = 1 - Math.abs(distanceY) / window.innerHeight;\r\n                this.$backdrop.css('opacity', opacity);\r\n                var scale = 1 - Math.abs(distanceY) / (window.innerWidth * 2);\r\n                this.setTranslate($currentSlide, 0, distanceY, scale, scale);\r\n                if (Math.abs(distanceY) > 100) {\r\n                    this.outer\r\n                        .addClass('lg-hide-items')\r\n                        .removeClass('lg-components-open');\r\n                }\r\n            }\r\n        }\r\n    };\r\n    LightGallery.prototype.touchEnd = function (endCoords, startCoords, event) {\r\n        var _this = this;\r\n        var distance;\r\n        // keep slide animation for any mode while dragg/swipe\r\n        if (this.settings.mode !== 'lg-slide') {\r\n            this.outer.addClass('lg-slide');\r\n        }\r\n        // set transition duration\r\n        setTimeout(function () {\r\n            _this.$container.removeClass('lg-dragging-vertical');\r\n            _this.outer\r\n                .removeClass('lg-dragging lg-hide-items')\r\n                .addClass('lg-components-open');\r\n            var triggerClick = true;\r\n            if (_this.swipeDirection === 'horizontal') {\r\n                distance = endCoords.pageX - startCoords.pageX;\r\n                var distanceAbs = Math.abs(endCoords.pageX - startCoords.pageX);\r\n                if (distance < 0 &&\r\n                    distanceAbs > _this.settings.swipeThreshold) {\r\n                    _this.goToNextSlide(true);\r\n                    triggerClick = false;\r\n                }\r\n                else if (distance > 0 &&\r\n                    distanceAbs > _this.settings.swipeThreshold) {\r\n                    _this.goToPrevSlide(true);\r\n                    triggerClick = false;\r\n                }\r\n            }\r\n            else if (_this.swipeDirection === 'vertical') {\r\n                distance = Math.abs(endCoords.pageY - startCoords.pageY);\r\n                if (_this.settings.closable &&\r\n                    _this.settings.swipeToClose &&\r\n                    distance > 100) {\r\n                    _this.closeGallery();\r\n                    return;\r\n                }\r\n                else {\r\n                    _this.$backdrop.css('opacity', 1);\r\n                }\r\n            }\r\n            _this.outer.find('.lg-item').removeAttr('style');\r\n            if (triggerClick &&\r\n                Math.abs(endCoords.pageX - startCoords.pageX) < 5) {\r\n                // Trigger click if distance is less than 5 pix\r\n                var target = $LG(event.target);\r\n                if (_this.isPosterElement(target)) {\r\n                    _this.LGel.trigger(lGEvents.posterClick);\r\n                }\r\n            }\r\n            _this.swipeDirection = undefined;\r\n        });\r\n        // remove slide class once drag/swipe is completed if mode is not slide\r\n        setTimeout(function () {\r\n            if (!_this.outer.hasClass('lg-dragging') &&\r\n                _this.settings.mode !== 'lg-slide') {\r\n                _this.outer.removeClass('lg-slide');\r\n            }\r\n        }, this.settings.speed + 100);\r\n    };\r\n    LightGallery.prototype.enableSwipe = function () {\r\n        var _this = this;\r\n        var startCoords = {};\r\n        var endCoords = {};\r\n        var isMoved = false;\r\n        var isSwiping = false;\r\n        if (this.settings.enableSwipe) {\r\n            this.$inner.on('touchstart.lg', function (e) {\r\n                _this.dragOrSwipeEnabled = true;\r\n                var $item = _this.getSlideItem(_this.index);\r\n                if (($LG(e.target).hasClass('lg-item') ||\r\n                    $item.get().contains(e.target)) &&\r\n                    !_this.outer.hasClass('lg-zoomed') &&\r\n                    !_this.lgBusy &&\r\n                    e.targetTouches.length === 1) {\r\n                    isSwiping = true;\r\n                    _this.touchAction = 'swipe';\r\n                    _this.manageSwipeClass();\r\n                    startCoords = {\r\n                        pageX: e.targetTouches[0].pageX,\r\n                        pageY: e.targetTouches[0].pageY,\r\n                    };\r\n                }\r\n            });\r\n            this.$inner.on('touchmove.lg', function (e) {\r\n                if (isSwiping &&\r\n                    _this.touchAction === 'swipe' &&\r\n                    e.targetTouches.length === 1) {\r\n                    endCoords = {\r\n                        pageX: e.targetTouches[0].pageX,\r\n                        pageY: e.targetTouches[0].pageY,\r\n                    };\r\n                    _this.touchMove(startCoords, endCoords, e);\r\n                    isMoved = true;\r\n                }\r\n            });\r\n            this.$inner.on('touchend.lg', function (event) {\r\n                if (_this.touchAction === 'swipe') {\r\n                    if (isMoved) {\r\n                        isMoved = false;\r\n                        _this.touchEnd(endCoords, startCoords, event);\r\n                    }\r\n                    else if (isSwiping) {\r\n                        var target = $LG(event.target);\r\n                        if (_this.isPosterElement(target)) {\r\n                            _this.LGel.trigger(lGEvents.posterClick);\r\n                        }\r\n                    }\r\n                    _this.touchAction = undefined;\r\n                    isSwiping = false;\r\n                }\r\n            });\r\n        }\r\n    };\r\n    LightGallery.prototype.enableDrag = function () {\r\n        var _this = this;\r\n        var startCoords = {};\r\n        var endCoords = {};\r\n        var isDraging = false;\r\n        var isMoved = false;\r\n        if (this.settings.enableDrag) {\r\n            this.outer.on('mousedown.lg', function (e) {\r\n                _this.dragOrSwipeEnabled = true;\r\n                var $item = _this.getSlideItem(_this.index);\r\n                if ($LG(e.target).hasClass('lg-item') ||\r\n                    $item.get().contains(e.target)) {\r\n                    if (!_this.outer.hasClass('lg-zoomed') && !_this.lgBusy) {\r\n                        e.preventDefault();\r\n                        if (!_this.lgBusy) {\r\n                            _this.manageSwipeClass();\r\n                            startCoords = {\r\n                                pageX: e.pageX,\r\n                                pageY: e.pageY,\r\n                            };\r\n                            isDraging = true;\r\n                            // ** Fix for webkit cursor issue https://code.google.com/p/chromium/issues/detail?id=26723\r\n                            _this.outer.get().scrollLeft += 1;\r\n                            _this.outer.get().scrollLeft -= 1;\r\n                            // *\r\n                            _this.outer\r\n                                .removeClass('lg-grab')\r\n                                .addClass('lg-grabbing');\r\n                            _this.LGel.trigger(lGEvents.dragStart);\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n            $LG(window).on(\"mousemove.lg.global\" + this.lgId, function (e) {\r\n                if (isDraging && _this.lgOpened) {\r\n                    isMoved = true;\r\n                    endCoords = {\r\n                        pageX: e.pageX,\r\n                        pageY: e.pageY,\r\n                    };\r\n                    _this.touchMove(startCoords, endCoords);\r\n                    _this.LGel.trigger(lGEvents.dragMove);\r\n                }\r\n            });\r\n            $LG(window).on(\"mouseup.lg.global\" + this.lgId, function (event) {\r\n                if (!_this.lgOpened) {\r\n                    return;\r\n                }\r\n                var target = $LG(event.target);\r\n                if (isMoved) {\r\n                    isMoved = false;\r\n                    _this.touchEnd(endCoords, startCoords, event);\r\n                    _this.LGel.trigger(lGEvents.dragEnd);\r\n                }\r\n                else if (_this.isPosterElement(target)) {\r\n                    _this.LGel.trigger(lGEvents.posterClick);\r\n                }\r\n                // Prevent execution on click\r\n                if (isDraging) {\r\n                    isDraging = false;\r\n                    _this.outer.removeClass('lg-grabbing').addClass('lg-grab');\r\n                }\r\n            });\r\n        }\r\n    };\r\n    LightGallery.prototype.triggerPosterClick = function () {\r\n        var _this = this;\r\n        this.$inner.on('click.lg', function (event) {\r\n            if (!_this.dragOrSwipeEnabled &&\r\n                _this.isPosterElement($LG(event.target))) {\r\n                _this.LGel.trigger(lGEvents.posterClick);\r\n            }\r\n        });\r\n    };\r\n    LightGallery.prototype.manageSwipeClass = function () {\r\n        var _touchNext = this.index + 1;\r\n        var _touchPrev = this.index - 1;\r\n        if (this.settings.loop && this.galleryItems.length > 2) {\r\n            if (this.index === 0) {\r\n                _touchPrev = this.galleryItems.length - 1;\r\n            }\r\n            else if (this.index === this.galleryItems.length - 1) {\r\n                _touchNext = 0;\r\n            }\r\n        }\r\n        this.outer.find('.lg-item').removeClass('lg-next-slide lg-prev-slide');\r\n        if (_touchPrev > -1) {\r\n            this.getSlideItem(_touchPrev).addClass('lg-prev-slide');\r\n        }\r\n        this.getSlideItem(_touchNext).addClass('lg-next-slide');\r\n    };\r\n    /**\r\n     * Go to next slide\r\n     * @param {Boolean} fromTouch - true if slide function called via touch event\r\n     * @category lGPublicMethods\r\n     * @example\r\n     *  const plugin = lightGallery();\r\n     *  plugin.goToNextSlide();\r\n     * @see <a href=\"/demos/methods/\">Demo</a>\r\n     */\r\n    LightGallery.prototype.goToNextSlide = function (fromTouch) {\r\n        var _this = this;\r\n        var _loop = this.settings.loop;\r\n        if (fromTouch && this.galleryItems.length < 3) {\r\n            _loop = false;\r\n        }\r\n        if (!this.lgBusy) {\r\n            if (this.index + 1 < this.galleryItems.length) {\r\n                this.index++;\r\n                this.LGel.trigger(lGEvents.beforeNextSlide, {\r\n                    index: this.index,\r\n                });\r\n                this.slide(this.index, !!fromTouch, false, 'next');\r\n            }\r\n            else {\r\n                if (_loop) {\r\n                    this.index = 0;\r\n                    this.LGel.trigger(lGEvents.beforeNextSlide, {\r\n                        index: this.index,\r\n                    });\r\n                    this.slide(this.index, !!fromTouch, false, 'next');\r\n                }\r\n                else if (this.settings.slideEndAnimation && !fromTouch) {\r\n                    this.outer.addClass('lg-right-end');\r\n                    setTimeout(function () {\r\n                        _this.outer.removeClass('lg-right-end');\r\n                    }, 400);\r\n                }\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Go to previous slides\r\n     * @param {Boolean} fromTouch - true if slide function called via touch event\r\n     * @category lGPublicMethods\r\n     * @example\r\n     *  const plugin = lightGallery({});\r\n     *  plugin.goToPrevSlide();\r\n     * @see <a href=\"/demos/methods/\">Demo</a>\r\n     *\r\n     */\r\n    LightGallery.prototype.goToPrevSlide = function (fromTouch) {\r\n        var _this = this;\r\n        var _loop = this.settings.loop;\r\n        if (fromTouch && this.galleryItems.length < 3) {\r\n            _loop = false;\r\n        }\r\n        if (!this.lgBusy) {\r\n            if (this.index > 0) {\r\n                this.index--;\r\n                this.LGel.trigger(lGEvents.beforePrevSlide, {\r\n                    index: this.index,\r\n                    fromTouch: fromTouch,\r\n                });\r\n                this.slide(this.index, !!fromTouch, false, 'prev');\r\n            }\r\n            else {\r\n                if (_loop) {\r\n                    this.index = this.galleryItems.length - 1;\r\n                    this.LGel.trigger(lGEvents.beforePrevSlide, {\r\n                        index: this.index,\r\n                        fromTouch: fromTouch,\r\n                    });\r\n                    this.slide(this.index, !!fromTouch, false, 'prev');\r\n                }\r\n                else if (this.settings.slideEndAnimation && !fromTouch) {\r\n                    this.outer.addClass('lg-left-end');\r\n                    setTimeout(function () {\r\n                        _this.outer.removeClass('lg-left-end');\r\n                    }, 400);\r\n                }\r\n            }\r\n        }\r\n    };\r\n    LightGallery.prototype.keyPress = function () {\r\n        var _this = this;\r\n        $LG(window).on(\"keydown.lg.global\" + this.lgId, function (e) {\r\n            if (_this.lgOpened &&\r\n                _this.settings.escKey === true &&\r\n                e.keyCode === 27) {\r\n                e.preventDefault();\r\n                if (_this.settings.allowMediaOverlap &&\r\n                    _this.outer.hasClass('lg-can-toggle') &&\r\n                    _this.outer.hasClass('lg-components-open')) {\r\n                    _this.outer.removeClass('lg-components-open');\r\n                }\r\n                else {\r\n                    _this.closeGallery();\r\n                }\r\n            }\r\n            if (_this.lgOpened && _this.galleryItems.length > 1) {\r\n                if (e.keyCode === 37) {\r\n                    e.preventDefault();\r\n                    _this.goToPrevSlide();\r\n                }\r\n                if (e.keyCode === 39) {\r\n                    e.preventDefault();\r\n                    _this.goToNextSlide();\r\n                }\r\n            }\r\n        });\r\n    };\r\n    LightGallery.prototype.arrow = function () {\r\n        var _this = this;\r\n        this.getElementById('lg-prev').on('click.lg', function () {\r\n            _this.goToPrevSlide();\r\n        });\r\n        this.getElementById('lg-next').on('click.lg', function () {\r\n            _this.goToNextSlide();\r\n        });\r\n    };\r\n    LightGallery.prototype.arrowDisable = function (index) {\r\n        // Disable arrows if settings.hideControlOnEnd is true\r\n        if (!this.settings.loop && this.settings.hideControlOnEnd) {\r\n            var $prev = this.getElementById('lg-prev');\r\n            var $next = this.getElementById('lg-next');\r\n            if (index + 1 === this.galleryItems.length) {\r\n                $next.attr('disabled', 'disabled').addClass('disabled');\r\n            }\r\n            else {\r\n                $next.removeAttr('disabled').removeClass('disabled');\r\n            }\r\n            if (index === 0) {\r\n                $prev.attr('disabled', 'disabled').addClass('disabled');\r\n            }\r\n            else {\r\n                $prev.removeAttr('disabled').removeClass('disabled');\r\n            }\r\n        }\r\n    };\r\n    LightGallery.prototype.setTranslate = function ($el, xValue, yValue, scaleX, scaleY) {\r\n        if (scaleX === void 0) { scaleX = 1; }\r\n        if (scaleY === void 0) { scaleY = 1; }\r\n        $el.css('transform', 'translate3d(' +\r\n            xValue +\r\n            'px, ' +\r\n            yValue +\r\n            'px, 0px) scale3d(' +\r\n            scaleX +\r\n            ', ' +\r\n            scaleY +\r\n            ', 1)');\r\n    };\r\n    LightGallery.prototype.mousewheel = function () {\r\n        var _this = this;\r\n        this.outer.on('mousewheel.lg', function (e) {\r\n            if (!e.deltaY || _this.galleryItems.length < 2) {\r\n                return;\r\n            }\r\n            if (e.deltaY > 0) {\r\n                _this.goToPrevSlide();\r\n            }\r\n            else {\r\n                _this.goToNextSlide();\r\n            }\r\n            e.preventDefault();\r\n        });\r\n    };\r\n    LightGallery.prototype.isSlideElement = function (target) {\r\n        return (target.hasClass('lg-outer') ||\r\n            target.hasClass('lg-item') ||\r\n            target.hasClass('lg-img-wrap'));\r\n    };\r\n    LightGallery.prototype.isPosterElement = function (target) {\r\n        var playButton = this.getSlideItem(this.index)\r\n            .find('.lg-video-play-button')\r\n            .get();\r\n        return (target.hasClass('lg-video-poster') ||\r\n            target.hasClass('lg-video-play-button') ||\r\n            (playButton && playButton.contains(target.get())));\r\n    };\r\n    /**\r\n     * Maximize minimize inline gallery.\r\n     * @category lGPublicMethods\r\n     */\r\n    LightGallery.prototype.toggleMaximize = function () {\r\n        var _this = this;\r\n        this.getElementById('lg-maximize').on('click.lg', function () {\r\n            _this.$container.toggleClass('lg-inline');\r\n            _this.refreshOnResize();\r\n        });\r\n    };\r\n    LightGallery.prototype.invalidateItems = function () {\r\n        for (var index = 0; index < this.items.length; index++) {\r\n            var element = this.items[index];\r\n            var $element = $LG(element);\r\n            $element.off(\"click.lgcustom-item-\" + $element.attr('data-lg-id'));\r\n        }\r\n    };\r\n    LightGallery.prototype.manageCloseGallery = function () {\r\n        var _this = this;\r\n        if (!this.settings.closable)\r\n            return;\r\n        var mousedown = false;\r\n        this.getElementById('lg-close').on('click.lg', function () {\r\n            _this.closeGallery();\r\n        });\r\n        if (this.settings.closeOnTap) {\r\n            // If you drag the slide and release outside gallery gets close on chrome\r\n            // for preventing this check mousedown and mouseup happened on .lg-item or lg-outer\r\n            this.outer.on('mousedown.lg', function (e) {\r\n                var target = $LG(e.target);\r\n                if (_this.isSlideElement(target)) {\r\n                    mousedown = true;\r\n                }\r\n                else {\r\n                    mousedown = false;\r\n                }\r\n            });\r\n            this.outer.on('mousemove.lg', function () {\r\n                mousedown = false;\r\n            });\r\n            this.outer.on('mouseup.lg', function (e) {\r\n                var target = $LG(e.target);\r\n                if (_this.isSlideElement(target) && mousedown) {\r\n                    if (!_this.outer.hasClass('lg-dragging')) {\r\n                        _this.closeGallery();\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    };\r\n    /**\r\n     * Close lightGallery if it is opened.\r\n     *\r\n     * @description If closable is false in the settings, you need to pass true via closeGallery method to force close gallery\r\n     * @return returns the estimated time to close gallery completely including the close animation duration\r\n     * @category lGPublicMethods\r\n     * @example\r\n     *  const plugin = lightGallery();\r\n     *  plugin.closeGallery();\r\n     *\r\n     */\r\n    LightGallery.prototype.closeGallery = function (force) {\r\n        var _this = this;\r\n        if (!this.lgOpened || (!this.settings.closable && !force)) {\r\n            return 0;\r\n        }\r\n        this.LGel.trigger(lGEvents.beforeClose);\r\n        $LG(window).scrollTop(this.prevScrollTop);\r\n        var currentItem = this.items[this.index];\r\n        var transform;\r\n        if (this.zoomFromOrigin && currentItem) {\r\n            var _a = this.mediaContainerPosition, top_4 = _a.top, bottom = _a.bottom;\r\n            var imageSize = utils.getSize(currentItem, this.outer, top_4 + bottom, this.galleryItems[this.index].__slideVideoInfo &&\r\n                this.settings.videoMaxSize);\r\n            transform = utils.getTransform(currentItem, this.outer, top_4, bottom, imageSize);\r\n        }\r\n        if (this.zoomFromOrigin && transform) {\r\n            this.outer.addClass('lg-closing lg-zoom-from-image');\r\n            this.getSlideItem(this.index)\r\n                .addClass('lg-start-end-progress')\r\n                .css('transition-duration', this.settings.startAnimationDuration + 'ms')\r\n                .css('transform', transform);\r\n        }\r\n        else {\r\n            this.outer.addClass('lg-hide-items');\r\n            // lg-zoom-from-image is used for setting the opacity to 1 if zoomFromOrigin is true\r\n            // If the closing item doesn't have the lg-size attribute, remove this class to avoid the closing css conflicts\r\n            this.outer.removeClass('lg-zoom-from-image');\r\n        }\r\n        // Unbind all events added by lightGallery\r\n        // @todo\r\n        //this.$el.off('.lg.tm');\r\n        this.destroyModules();\r\n        this.lGalleryOn = false;\r\n        this.isDummyImageRemoved = false;\r\n        this.zoomFromOrigin = this.settings.zoomFromOrigin;\r\n        clearTimeout(this.hideBarTimeout);\r\n        this.hideBarTimeout = false;\r\n        $LG('html').removeClass('lg-on');\r\n        this.outer.removeClass('lg-visible lg-components-open');\r\n        // Resetting opacity to 0 isd required as  vertical swipe to close function adds inline opacity.\r\n        this.$backdrop.removeClass('in').css('opacity', 0);\r\n        var removeTimeout = this.zoomFromOrigin && transform\r\n            ? Math.max(this.settings.startAnimationDuration, this.settings.backdropDuration)\r\n            : this.settings.backdropDuration;\r\n        this.$container.removeClass('lg-show-in');\r\n        // Once the closign animation is completed and gallery is invisible\r\n        setTimeout(function () {\r\n            if (_this.zoomFromOrigin && transform) {\r\n                _this.outer.removeClass('lg-zoom-from-image');\r\n            }\r\n            _this.$container.removeClass('lg-show');\r\n            // Need to remove inline opacity as it is used in the stylesheet as well\r\n            _this.$backdrop\r\n                .removeAttr('style')\r\n                .css('transition-duration', _this.settings.backdropDuration + 'ms');\r\n            _this.outer.removeClass(\"lg-closing \" + _this.settings.startClass);\r\n            _this.getSlideItem(_this.index).removeClass('lg-start-end-progress');\r\n            _this.$inner.empty();\r\n            if (_this.lgOpened) {\r\n                _this.LGel.trigger(lGEvents.afterClose, {\r\n                    instance: _this,\r\n                });\r\n            }\r\n            if (_this.outer.get()) {\r\n                _this.outer.get().blur();\r\n            }\r\n            _this.lgOpened = false;\r\n        }, removeTimeout + 100);\r\n        return removeTimeout + 100;\r\n    };\r\n    LightGallery.prototype.initModules = function () {\r\n        this.plugins.forEach(function (module) {\r\n            try {\r\n                module.init();\r\n            }\r\n            catch (err) {\r\n                console.warn(\"lightGallery:- make sure lightGallery module is properly initiated\");\r\n            }\r\n        });\r\n    };\r\n    LightGallery.prototype.destroyModules = function (destroy) {\r\n        this.plugins.forEach(function (module) {\r\n            try {\r\n                if (destroy) {\r\n                    module.destroy();\r\n                }\r\n                else {\r\n                    module.closeGallery && module.closeGallery();\r\n                }\r\n            }\r\n            catch (err) {\r\n                console.warn(\"lightGallery:- make sure lightGallery module is properly destroyed\");\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Refresh lightGallery with new set of children.\r\n     *\r\n     * @description This is useful to update the gallery when the child elements are changed without calling destroy method.\r\n     *\r\n     * If you are using dynamic mode, you can pass the modified array of dynamicEl as the first parameter to refresh the dynamic gallery\r\n     * @see <a href=\"/demos/dynamic-mode/\">Demo</a>\r\n     * @category lGPublicMethods\r\n     * @example\r\n     *  const plugin = lightGallery();\r\n     *  // Delete or add children, then call\r\n     *  plugin.refresh();\r\n     *\r\n     */\r\n    LightGallery.prototype.refresh = function (galleryItems) {\r\n        if (!this.settings.dynamic) {\r\n            this.invalidateItems();\r\n        }\r\n        if (galleryItems) {\r\n            this.galleryItems = galleryItems;\r\n        }\r\n        else {\r\n            this.galleryItems = this.getItems();\r\n        }\r\n        this.updateControls();\r\n        this.openGalleryOnItemClick();\r\n        this.LGel.trigger(lGEvents.updateSlides);\r\n    };\r\n    LightGallery.prototype.updateControls = function () {\r\n        this.addSlideVideoInfo(this.galleryItems);\r\n        this.updateCounterTotal();\r\n        this.manageSingleSlideClassName();\r\n    };\r\n    /**\r\n     * Destroy lightGallery.\r\n     * Destroy lightGallery and its plugin instances completely\r\n     *\r\n     * @description This method also calls CloseGallery function internally. Returns the time takes to completely close and destroy the instance.\r\n     * In case if you want to re-initialize lightGallery right after destroying it, initialize it only once the destroy process is completed.\r\n     * You can use refresh method most of the times.\r\n     * @category lGPublicMethods\r\n     * @example\r\n     *  const plugin = lightGallery();\r\n     *  plugin.destroy();\r\n     *\r\n     */\r\n    LightGallery.prototype.destroy = function () {\r\n        var _this = this;\r\n        var closeTimeout = this.closeGallery(true);\r\n        setTimeout(function () {\r\n            _this.destroyModules(true);\r\n            if (!_this.settings.dynamic) {\r\n                _this.invalidateItems();\r\n            }\r\n            $LG(window).off(\".lg.global\" + _this.lgId);\r\n            _this.LGel.off('.lg');\r\n            _this.$container.remove();\r\n        }, closeTimeout);\r\n        return closeTimeout;\r\n    };\r\n    return LightGallery;\r\n}());\n\nfunction lightGallery(el, options) {\r\n    return new LightGallery(el, options);\r\n}\n\nexport default lightGallery;\n//# sourceMappingURL=lightgallery.es5.js.map\n","/*!\n * lightgallery | 2.2.1 | September 4th 2021\n * http://www.lightgalleryjs.com/\n * Copyright (c) 2020 Sachin Neravath;\n * @license GPLv3\n */\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\n\nvar thumbnailsSettings = {\r\n    thumbnail: true,\r\n    animateThumb: true,\r\n    currentPagerPosition: 'middle',\r\n    alignThumbnails: 'middle',\r\n    thumbWidth: 100,\r\n    thumbHeight: '80px',\r\n    thumbMargin: 5,\r\n    appendThumbnailsTo: '.lg-components',\r\n    toggleThumb: false,\r\n    enableThumbDrag: true,\r\n    enableThumbSwipe: true,\r\n    thumbnailSwipeThreshold: 10,\r\n    loadYouTubeThumbnail: true,\r\n    youTubeThumbSize: 1,\r\n};\n\n/**\r\n * List of lightGallery events\r\n * All events should be documented here\r\n * Below interfaces are used to build the website documentations\r\n * */\r\nvar lGEvents = {\r\n    afterAppendSlide: 'lgAfterAppendSlide',\r\n    init: 'lgInit',\r\n    hasVideo: 'lgHasVideo',\r\n    containerResize: 'lgContainerResize',\r\n    updateSlides: 'lgUpdateSlides',\r\n    afterAppendSubHtml: 'lgAfterAppendSubHtml',\r\n    beforeOpen: 'lgBeforeOpen',\r\n    afterOpen: 'lgAfterOpen',\r\n    slideItemLoad: 'lgSlideItemLoad',\r\n    beforeSlide: 'lgBeforeSlide',\r\n    afterSlide: 'lgAfterSlide',\r\n    posterClick: 'lgPosterClick',\r\n    dragStart: 'lgDragStart',\r\n    dragMove: 'lgDragMove',\r\n    dragEnd: 'lgDragEnd',\r\n    beforeNextSlide: 'lgBeforeNextSlide',\r\n    beforePrevSlide: 'lgBeforePrevSlide',\r\n    beforeClose: 'lgBeforeClose',\r\n    afterClose: 'lgAfterClose',\r\n    rotateLeft: 'lgRotateLeft',\r\n    rotateRight: 'lgRotateRight',\r\n    flipHorizontal: 'lgFlipHorizontal',\r\n    flipVertical: 'lgFlipVertical',\r\n};\n\nvar Thumbnail = /** @class */ (function () {\r\n    function Thumbnail(instance, $LG) {\r\n        this.thumbOuterWidth = 0;\r\n        this.thumbTotalWidth = 0;\r\n        this.translateX = 0;\r\n        this.thumbClickable = false;\r\n        // get lightGallery core plugin instance\r\n        this.core = instance;\r\n        this.$LG = $LG;\r\n        return this;\r\n    }\r\n    Thumbnail.prototype.init = function () {\r\n        // extend module default settings with lightGallery core settings\r\n        this.settings = __assign(__assign({}, thumbnailsSettings), this.core.settings);\r\n        this.thumbOuterWidth = 0;\r\n        this.thumbTotalWidth =\r\n            this.core.galleryItems.length *\r\n                (this.settings.thumbWidth + this.settings.thumbMargin);\r\n        // Thumbnail animation value\r\n        this.translateX = 0;\r\n        this.setAnimateThumbStyles();\r\n        if (!this.core.settings.allowMediaOverlap) {\r\n            this.settings.toggleThumb = false;\r\n        }\r\n        if (this.settings.thumbnail) {\r\n            this.build();\r\n            if (this.settings.animateThumb) {\r\n                if (this.settings.enableThumbDrag) {\r\n                    this.enableThumbDrag();\r\n                }\r\n                if (this.settings.enableThumbSwipe) {\r\n                    this.enableThumbSwipe();\r\n                }\r\n                this.thumbClickable = false;\r\n            }\r\n            else {\r\n                this.thumbClickable = true;\r\n            }\r\n            this.toggleThumbBar();\r\n            this.thumbKeyPress();\r\n        }\r\n    };\r\n    Thumbnail.prototype.build = function () {\r\n        var _this = this;\r\n        this.setThumbMarkup();\r\n        this.manageActiveClassOnSlideChange();\r\n        this.$lgThumb.first().on('click.lg touchend.lg', function (e) {\r\n            var $target = _this.$LG(e.target);\r\n            if (!$target.hasAttribute('data-lg-item-id')) {\r\n                return;\r\n            }\r\n            setTimeout(function () {\r\n                // In IE9 and bellow touch does not support\r\n                // Go to slide if browser does not support css transitions\r\n                if (_this.thumbClickable && !_this.core.lgBusy) {\r\n                    var index = parseInt($target.attr('data-lg-item-id'));\r\n                    _this.core.slide(index, false, true, false);\r\n                }\r\n            }, 50);\r\n        });\r\n        this.core.LGel.on(lGEvents.beforeSlide + \".thumb\", function (event) {\r\n            var index = event.detail.index;\r\n            _this.animateThumb(index);\r\n        });\r\n        this.core.LGel.on(lGEvents.beforeOpen + \".thumb\", function () {\r\n            _this.thumbOuterWidth = _this.core.outer.get().offsetWidth;\r\n        });\r\n        this.core.LGel.on(lGEvents.updateSlides + \".thumb\", function () {\r\n            _this.rebuildThumbnails();\r\n        });\r\n        this.core.LGel.on(lGEvents.containerResize + \".thumb\", function () {\r\n            if (!_this.core.lgOpened)\r\n                return;\r\n            setTimeout(function () {\r\n                _this.thumbOuterWidth = _this.core.outer.get().offsetWidth;\r\n                _this.animateThumb(_this.core.index);\r\n                _this.thumbOuterWidth = _this.core.outer.get().offsetWidth;\r\n            }, 50);\r\n        });\r\n    };\r\n    Thumbnail.prototype.setThumbMarkup = function () {\r\n        var thumbOuterClassNames = 'lg-thumb-outer ';\r\n        if (this.settings.alignThumbnails) {\r\n            thumbOuterClassNames += \"lg-thumb-align-\" + this.settings.alignThumbnails;\r\n        }\r\n        var html = \"<div class=\\\"\" + thumbOuterClassNames + \"\\\">\\n        <div class=\\\"lg-thumb lg-group\\\">\\n        </div>\\n        </div>\";\r\n        this.core.outer.addClass('lg-has-thumb');\r\n        if (this.settings.appendThumbnailsTo === '.lg-components') {\r\n            this.core.$lgComponents.append(html);\r\n        }\r\n        else {\r\n            this.core.outer.append(html);\r\n        }\r\n        this.$thumbOuter = this.core.outer.find('.lg-thumb-outer').first();\r\n        this.$lgThumb = this.core.outer.find('.lg-thumb').first();\r\n        if (this.settings.animateThumb) {\r\n            this.core.outer\r\n                .find('.lg-thumb')\r\n                .css('transition-duration', this.core.settings.speed + 'ms')\r\n                .css('width', this.thumbTotalWidth + 'px')\r\n                .css('position', 'relative');\r\n        }\r\n        this.setThumbItemHtml(this.core.galleryItems);\r\n    };\r\n    Thumbnail.prototype.enableThumbDrag = function () {\r\n        var _this = this;\r\n        var thumbDragUtils = {\r\n            cords: {\r\n                startX: 0,\r\n                endX: 0,\r\n            },\r\n            isMoved: false,\r\n            newTranslateX: 0,\r\n            startTime: new Date(),\r\n            endTime: new Date(),\r\n            touchMoveTime: 0,\r\n        };\r\n        var isDragging = false;\r\n        this.$thumbOuter.addClass('lg-grab');\r\n        this.core.outer\r\n            .find('.lg-thumb')\r\n            .first()\r\n            .on('mousedown.lg.thumb', function (e) {\r\n            if (_this.thumbTotalWidth > _this.thumbOuterWidth) {\r\n                // execute only on .lg-object\r\n                e.preventDefault();\r\n                thumbDragUtils.cords.startX = e.pageX;\r\n                thumbDragUtils.startTime = new Date();\r\n                _this.thumbClickable = false;\r\n                isDragging = true;\r\n                // ** Fix for webkit cursor issue https://code.google.com/p/chromium/issues/detail?id=26723\r\n                _this.core.outer.get().scrollLeft += 1;\r\n                _this.core.outer.get().scrollLeft -= 1;\r\n                // *\r\n                _this.$thumbOuter\r\n                    .removeClass('lg-grab')\r\n                    .addClass('lg-grabbing');\r\n            }\r\n        });\r\n        this.$LG(window).on(\"mousemove.lg.thumb.global\" + this.core.lgId, function (e) {\r\n            if (!_this.core.lgOpened)\r\n                return;\r\n            if (isDragging) {\r\n                thumbDragUtils.cords.endX = e.pageX;\r\n                thumbDragUtils = _this.onThumbTouchMove(thumbDragUtils);\r\n            }\r\n        });\r\n        this.$LG(window).on(\"mouseup.lg.thumb.global\" + this.core.lgId, function () {\r\n            if (!_this.core.lgOpened)\r\n                return;\r\n            if (thumbDragUtils.isMoved) {\r\n                thumbDragUtils = _this.onThumbTouchEnd(thumbDragUtils);\r\n            }\r\n            else {\r\n                _this.thumbClickable = true;\r\n            }\r\n            if (isDragging) {\r\n                isDragging = false;\r\n                _this.$thumbOuter.removeClass('lg-grabbing').addClass('lg-grab');\r\n            }\r\n        });\r\n    };\r\n    Thumbnail.prototype.enableThumbSwipe = function () {\r\n        var _this = this;\r\n        var thumbDragUtils = {\r\n            cords: {\r\n                startX: 0,\r\n                endX: 0,\r\n            },\r\n            isMoved: false,\r\n            newTranslateX: 0,\r\n            startTime: new Date(),\r\n            endTime: new Date(),\r\n            touchMoveTime: 0,\r\n        };\r\n        this.$lgThumb.on('touchstart.lg', function (e) {\r\n            if (_this.thumbTotalWidth > _this.thumbOuterWidth) {\r\n                e.preventDefault();\r\n                thumbDragUtils.cords.startX = e.targetTouches[0].pageX;\r\n                _this.thumbClickable = false;\r\n                thumbDragUtils.startTime = new Date();\r\n            }\r\n        });\r\n        this.$lgThumb.on('touchmove.lg', function (e) {\r\n            if (_this.thumbTotalWidth > _this.thumbOuterWidth) {\r\n                e.preventDefault();\r\n                thumbDragUtils.cords.endX = e.targetTouches[0].pageX;\r\n                thumbDragUtils = _this.onThumbTouchMove(thumbDragUtils);\r\n            }\r\n        });\r\n        this.$lgThumb.on('touchend.lg', function () {\r\n            if (thumbDragUtils.isMoved) {\r\n                thumbDragUtils = _this.onThumbTouchEnd(thumbDragUtils);\r\n            }\r\n            else {\r\n                _this.thumbClickable = true;\r\n            }\r\n        });\r\n    };\r\n    // Rebuild thumbnails\r\n    Thumbnail.prototype.rebuildThumbnails = function () {\r\n        var _this = this;\r\n        // Remove transitions\r\n        this.$thumbOuter.addClass('lg-rebuilding-thumbnails');\r\n        setTimeout(function () {\r\n            _this.thumbTotalWidth =\r\n                _this.core.galleryItems.length *\r\n                    (_this.settings.thumbWidth + _this.settings.thumbMargin);\r\n            _this.$lgThumb.css('width', _this.thumbTotalWidth + 'px');\r\n            _this.$lgThumb.empty();\r\n            _this.setThumbItemHtml(_this.core.galleryItems);\r\n            _this.animateThumb(_this.core.index);\r\n        }, 50);\r\n        setTimeout(function () {\r\n            _this.$thumbOuter.removeClass('lg-rebuilding-thumbnails');\r\n        }, 200);\r\n    };\r\n    // @ts-check\r\n    Thumbnail.prototype.setTranslate = function (value) {\r\n        this.$lgThumb.css('transform', 'translate3d(-' + value + 'px, 0px, 0px)');\r\n    };\r\n    Thumbnail.prototype.getPossibleTransformX = function (left) {\r\n        if (left > this.thumbTotalWidth - this.thumbOuterWidth) {\r\n            left = this.thumbTotalWidth - this.thumbOuterWidth;\r\n        }\r\n        if (left < 0) {\r\n            left = 0;\r\n        }\r\n        return left;\r\n    };\r\n    Thumbnail.prototype.animateThumb = function (index) {\r\n        this.$lgThumb.css('transition-duration', this.core.settings.speed + 'ms');\r\n        if (this.settings.animateThumb) {\r\n            var position = 0;\r\n            switch (this.settings.currentPagerPosition) {\r\n                case 'left':\r\n                    position = 0;\r\n                    break;\r\n                case 'middle':\r\n                    position =\r\n                        this.thumbOuterWidth / 2 - this.settings.thumbWidth / 2;\r\n                    break;\r\n                case 'right':\r\n                    position = this.thumbOuterWidth - this.settings.thumbWidth;\r\n            }\r\n            this.translateX =\r\n                (this.settings.thumbWidth + this.settings.thumbMargin) * index -\r\n                    1 -\r\n                    position;\r\n            if (this.translateX > this.thumbTotalWidth - this.thumbOuterWidth) {\r\n                this.translateX = this.thumbTotalWidth - this.thumbOuterWidth;\r\n            }\r\n            if (this.translateX < 0) {\r\n                this.translateX = 0;\r\n            }\r\n            this.setTranslate(this.translateX);\r\n        }\r\n    };\r\n    Thumbnail.prototype.onThumbTouchMove = function (thumbDragUtils) {\r\n        thumbDragUtils.newTranslateX = this.translateX;\r\n        thumbDragUtils.isMoved = true;\r\n        thumbDragUtils.touchMoveTime = new Date().valueOf();\r\n        thumbDragUtils.newTranslateX -=\r\n            thumbDragUtils.cords.endX - thumbDragUtils.cords.startX;\r\n        thumbDragUtils.newTranslateX = this.getPossibleTransformX(thumbDragUtils.newTranslateX);\r\n        // move current slide\r\n        this.setTranslate(thumbDragUtils.newTranslateX);\r\n        this.$thumbOuter.addClass('lg-dragging');\r\n        return thumbDragUtils;\r\n    };\r\n    Thumbnail.prototype.onThumbTouchEnd = function (thumbDragUtils) {\r\n        thumbDragUtils.isMoved = false;\r\n        thumbDragUtils.endTime = new Date();\r\n        this.$thumbOuter.removeClass('lg-dragging');\r\n        var touchDuration = thumbDragUtils.endTime.valueOf() -\r\n            thumbDragUtils.startTime.valueOf();\r\n        var distanceXnew = thumbDragUtils.cords.endX - thumbDragUtils.cords.startX;\r\n        var speedX = Math.abs(distanceXnew) / touchDuration;\r\n        // Some magical numbers\r\n        // Can be improved\r\n        if (speedX > 0.15 &&\r\n            thumbDragUtils.endTime.valueOf() - thumbDragUtils.touchMoveTime < 30) {\r\n            speedX += 1;\r\n            if (speedX > 2) {\r\n                speedX += 1;\r\n            }\r\n            speedX =\r\n                speedX +\r\n                    speedX * (Math.abs(distanceXnew) / this.thumbOuterWidth);\r\n            this.$lgThumb.css('transition-duration', Math.min(speedX - 1, 2) + 'settings');\r\n            distanceXnew = distanceXnew * speedX;\r\n            this.translateX = this.getPossibleTransformX(this.translateX - distanceXnew);\r\n            this.setTranslate(this.translateX);\r\n        }\r\n        else {\r\n            this.translateX = thumbDragUtils.newTranslateX;\r\n        }\r\n        if (Math.abs(thumbDragUtils.cords.endX - thumbDragUtils.cords.startX) <\r\n            this.settings.thumbnailSwipeThreshold) {\r\n            this.thumbClickable = true;\r\n        }\r\n        return thumbDragUtils;\r\n    };\r\n    Thumbnail.prototype.getThumbHtml = function (thumb, index) {\r\n        var slideVideoInfo = this.core.galleryItems[index].__slideVideoInfo || {};\r\n        var thumbImg;\r\n        if (slideVideoInfo.youtube) {\r\n            if (this.settings.loadYouTubeThumbnail) {\r\n                thumbImg =\r\n                    '//img.youtube.com/vi/' +\r\n                        slideVideoInfo.youtube[1] +\r\n                        '/' +\r\n                        this.settings.youTubeThumbSize +\r\n                        '.jpg';\r\n            }\r\n            else {\r\n                thumbImg = thumb;\r\n            }\r\n        }\r\n        else {\r\n            thumbImg = thumb;\r\n        }\r\n        return \"<div data-lg-item-id=\\\"\" + index + \"\\\" class=\\\"lg-thumb-item \" + (index === this.core.index ? ' active' : '') + \"\\\" \\n        style=\\\"width:\" + this.settings.thumbWidth + \"px; height: \" + this.settings.thumbHeight + \";\\n            margin-right: \" + this.settings.thumbMargin + \"px;\\\">\\n            <img data-lg-item-id=\\\"\" + index + \"\\\" src=\\\"\" + thumbImg + \"\\\" />\\n        </div>\";\r\n    };\r\n    Thumbnail.prototype.getThumbItemHtml = function (items) {\r\n        var thumbList = '';\r\n        for (var i = 0; i < items.length; i++) {\r\n            thumbList += this.getThumbHtml(items[i].thumb, i);\r\n        }\r\n        return thumbList;\r\n    };\r\n    Thumbnail.prototype.setThumbItemHtml = function (items) {\r\n        var thumbList = this.getThumbItemHtml(items);\r\n        this.$lgThumb.html(thumbList);\r\n    };\r\n    Thumbnail.prototype.setAnimateThumbStyles = function () {\r\n        if (this.settings.animateThumb) {\r\n            this.core.outer.addClass('lg-animate-thumb');\r\n        }\r\n    };\r\n    // Manage thumbnail active calss\r\n    Thumbnail.prototype.manageActiveClassOnSlideChange = function () {\r\n        var _this = this;\r\n        // manage active class for thumbnail\r\n        this.core.LGel.on(lGEvents.beforeSlide + \".thumb\", function (event) {\r\n            var $thumb = _this.core.outer.find('.lg-thumb-item');\r\n            var index = event.detail.index;\r\n            $thumb.removeClass('active');\r\n            $thumb.eq(index).addClass('active');\r\n        });\r\n    };\r\n    // Toggle thumbnail bar\r\n    Thumbnail.prototype.toggleThumbBar = function () {\r\n        var _this = this;\r\n        if (this.settings.toggleThumb) {\r\n            this.core.outer.addClass('lg-can-toggle');\r\n            this.core.$toolbar.append('<button type=\"button\" aria-label=\"Toggle thumbnails\" class=\"lg-toggle-thumb lg-icon\"></button>');\r\n            this.core.outer\r\n                .find('.lg-toggle-thumb')\r\n                .first()\r\n                .on('click.lg', function () {\r\n                _this.core.outer.toggleClass('lg-components-open');\r\n            });\r\n        }\r\n    };\r\n    Thumbnail.prototype.thumbKeyPress = function () {\r\n        var _this = this;\r\n        this.$LG(window).on(\"keydown.lg.thumb.global\" + this.core.lgId, function (e) {\r\n            if (!_this.core.lgOpened || !_this.settings.toggleThumb)\r\n                return;\r\n            if (e.keyCode === 38) {\r\n                e.preventDefault();\r\n                _this.core.outer.addClass('lg-components-open');\r\n            }\r\n            else if (e.keyCode === 40) {\r\n                e.preventDefault();\r\n                _this.core.outer.removeClass('lg-components-open');\r\n            }\r\n        });\r\n    };\r\n    Thumbnail.prototype.destroy = function () {\r\n        if (this.settings.thumbnail) {\r\n            this.$LG(window).off(\".lg.thumb.global\" + this.core.lgId);\r\n            this.core.LGel.off('.lg.thumb');\r\n            this.core.LGel.off('.thumb');\r\n            this.$thumbOuter.remove();\r\n            this.core.outer.removeClass('lg-has-thumb');\r\n        }\r\n    };\r\n    return Thumbnail;\r\n}());\n\nexport default Thumbnail;\n//# sourceMappingURL=lg-thumbnail.es5.js.map\n"],"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","this","window","CustomEvent","event","params","bubbles","cancelable","detail","evt","document","createEvent","initCustomEvent","Element","matches","msMatchesSelector","webkitMatchesSelector","lgQuery","selector","cssVenderPrefixes","_getSelector","firstElement","_getFirstEl","generateUUID","replace","c","r","Math","random","toString","context","substring","querySelector","querySelectorAll","_each","func","undefined","forEach","_setCssVendorPrefix","el","cssProperty","value","property","group1","toUpperCase","indexOf","style","charAt","toLowerCase","slice","isEventMatched","eventName","eventNamespace","split","filter","e","every","attr","getAttribute","setAttribute","find","$LG","first","eq","index","parent","parentElement","get","removeAttr","attributes","attrs","removeAttribute","wrap","className","wrapper","createElement","parentNode","insertBefore","removeChild","appendChild","addClass","classNames","classList","add","removeClass","remove","hasClass","contains","hasAttribute","attribute","toggleClass","css","_this","on","events","listener","Array","isArray","eventListeners","push","addEventListener","once","off","keys","removeEventListener","trigger","customEvent","dispatchEvent","load","url","fetch","then","res","innerHTML","html","append","insertAdjacentHTML","prepend","empty","scrollTop","body","documentElement","pageYOffset","scrollLeft","pageXOffset","offset","left","top","rect","getBoundingClientRect","bodyMarginLeft","marginLeft","parseFloat","currentStyle","getComputedStyle","width","clientWidth","paddingLeft","paddingRight","height","clientHeight","paddingTop","paddingBottom","defaultDynamicOptions","convertToData","g","utils","container","spacing","defaultLgSize","lgSize","isResponsiveSizes","wWidth","innerWidth","size_1","parseInt","size","cWidth","cHeight","maxWidth","min","maxHeight","ratio","bottom","imageSize","LGel","containerRect","wHeight","elWidth","elHeight","elStyle","x","borderLeft","y","borderTop","src","altAttr","srcset","sizes","sources","imgMarkup","sourceTag","JSON","parse","map","source","key","lightGalleryCoreSettings","mode","easing","speed","licenseKey","startClass","backdropDuration","startAnimationDuration","zoomFromOrigin","hideBarsDelay","showBarsAfter","slideDelay","supportLegacyBrowser","allowMediaOverlap","videoMaxSize","defaultCaptionHeight","ariaLabelledby","ariaDescribedby","closable","swipeToClose","closeOnTap","showCloseIcon","showMaximizeIcon","loop","escKey","keyPress","controls","slideEndAnimation","hideControlOnEnd","mousewheel","getCaptionFromTitleOrAlt","appendSubHtmlTo","subHtmlSelectorRelative","preload","numberOfSlideItemsInDom","showAfterLoad","selectWithin","nextHtml","prevHtml","iframeWidth","iframeHeight","download","counter","appendCounterTo","swipeThreshold","enableSwipe","enableDrag","dynamic","dynamicEl","extraProps","exThumbImage","isMobile","mobileSettings","plugins","lGEvents","lgId","LightGallery","element","options","lgOpened","lGalleryOn","lgBusy","currentItemsInDom","prevScrollTop","isDummyImageRemoved","dragOrSwipeEnabled","mediaContainerPosition","generateSettings","buildModules","settings","galleryItems","getItems","normalizeSettings","init","validateLicense","test","navigator","userAgent","addSlideVideoInfo","buildStructure","instance","setTimeout","triggerPosterClick","arrow","openGalleryOnItemClick","_loop_1","this_1","items","$element","uuid","preventDefault","currentItemIndex","openGallery","plugin","console","warn","error","getSlideItem","getSlideItemId","getIdName","id","getElementById","manageSingleSlideClassName","outer","$container","subHtmlCont","addClasses","containerClassName","closeIcon","maximizeIcon","template","$lgComponents","$backdrop","$inner","$content","$toolbar","outerClassNames","refreshOnResize","hideBars","manageCloseGallery","toggleMaximize","initModules","videoInfo","__slideVideoInfo","getMediaContainerPosition","_a","top_1","currentImageSize","resizeVideoSlide","imgStyle","getDummyImgStyles","lgVideoStyle","getVideoContStyle","updateSlides","currentSrc","updateControls","_index","some","galleryItem","itemIndex","organizeSlideItems","loadContent","updateCurrentCounter","closeGallery","children","dynamicElements","availableDynamicOptions","il","k","a","j","jl","__spreadArrays","item","specified","dynamicAttr","name","label","currentItem","alt","title","thumb","subHtml","focus","itemsToBeInsertedToDom","getItemsToBeInsertedToDom","addHtml","transform","setMediaContainerPosition","timeout","currentSlide_1","slide","captionHeight","thumbContainer","clearTimeout","hideBarTimeout","initPictureFill","$img","picturefill","elements","counterHtml","subHtmlUrl","fL","currentSlide","getDummyImageContent","$currentSlide","$currentItem","_dummyImgSrc","dummyImgContent","setImgMarkup","currentGalleryItem","onLgObjectLoad","$el","delay","dummyImageLoaded","handleLgObjectLoad","isVideo","video","html5","youtube","match","vimeo","wistia","rec","poster","_html5Video","responsive","srcDyItms","srcItms","rsWidth","rsSrc","_src","splice","iframe","top_2","videoSize","markup","iframeTitle","dummyImg","isFirstSlide_1","hasStartAnimation","_poster","videoContStyle","_isVideo","delay_1","html5Video","hasPoster","isFirstSlide","_speed","img","mediaObject","complete","naturalWidth","loadContentOnLoad","prevIndex","numberOfItems","possibleNumberOfItems","max","prevIndexItem","_element","idx","numberOfExistingItems","getPreviousSlideIndex","currentItemId","setDownloadValue","downloadUrl","$download","makeSlideAnimation","direction","currentSlideItem","previousSlideItem","fromTouch","fromThumb","numberOfGalleryItems","previousSlideItem_1","getSlideType","top_3","arrowDisable","touchPrev","touchNext","updateCounterTotal","touchMove","startCoords","endCoords","distanceX","pageX","distanceY","pageY","allowSwipe","swipeDirection","abs","setTranslate","offsetWidth","gutter","opacity","innerHeight","scale","touchEnd","distance","triggerClick","distanceAbs","goToNextSlide","goToPrevSlide","target","isPosterElement","isMoved","isSwiping","$item","targetTouches","touchAction","manageSwipeClass","isDraging","_touchNext","_touchPrev","_loop","keyCode","$prev","$next","xValue","yValue","scaleX","scaleY","deltaY","isSlideElement","playButton","invalidateItems","mousedown","force","top_4","destroyModules","removeTimeout","blur","module","err","destroy","refresh","closeTimeout","thumbnailsSettings","thumbnail","animateThumb","currentPagerPosition","alignThumbnails","thumbWidth","thumbHeight","thumbMargin","appendThumbnailsTo","toggleThumb","enableThumbDrag","enableThumbSwipe","thumbnailSwipeThreshold","loadYouTubeThumbnail","youTubeThumbSize","Thumbnail","thumbOuterWidth","thumbTotalWidth","translateX","thumbClickable","core","setAnimateThumbStyles","build","toggleThumbBar","thumbKeyPress","setThumbMarkup","manageActiveClassOnSlideChange","$lgThumb","$target","rebuildThumbnails","thumbOuterClassNames","$thumbOuter","setThumbItemHtml","thumbDragUtils","cords","startX","endX","newTranslateX","startTime","Date","endTime","touchMoveTime","isDragging","onThumbTouchMove","onThumbTouchEnd","getPossibleTransformX","position","valueOf","touchDuration","distanceXnew","speedX","getThumbHtml","thumbImg","slideVideoInfo","getThumbItemHtml","thumbList","$thumb"],"sourceRoot":""}